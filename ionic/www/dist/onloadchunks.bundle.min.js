angular.module("starter").controller("NotSupportedController",function(){}),angular.module("starter").factory("Facebook",function($cacheFactory,$pwaRequest,Url){var factory={value_id:null,token:null,username:null,page_urls:[],displayed_per_page:22,cache:$cacheFactory("facebook"),host:"https://graph.facebook.com/v2.7/",host_img:"https://graph.facebook.com/v2.7/",setValueId:function(value_id){factory.value_id=value_id},preFetch:function(){factory.loadData().then(function(){factory.findUser().then(function(){factory.findPosts()})})},getPictureUrl:function(picture_id,size){return factory.host_img+picture_id+"/picture?width="+size+"&access_token="+factory.token},loadData:function(refresh){return this.value_id?$pwaRequest.get("social/mobile_facebook_list/find",{urlParams:{value_id:this.value_id,need_token:!this.token},withCredentials:!1,refresh:refresh}).then(function(response){return factory.username=response.username,response.token&&(factory.token=response.token),response}):$pwaRequest.reject("[Factory::Facebook.loadData] missing value_id")},findUser:function(){var url=Url.build(factory.host+factory.username,{fields:"id,about,name,genre,cover,fan_count,likes,talking_about_count",access_token:this.token});return factory.get(url)},findPosts:function(){var url=Url.build(factory.host+factory.username,{fields:"posts.fields(from,message,full_picture,picture,created_time,likes,comments,type,object_id,name,link)",access_token:factory.token});return angular.isDefined(factory.page_urls.posts)&&(url=factory.page_urls.posts),factory.get(url)},findPost:function(post_id){var url=Url.build(factory.host+post_id,{fields:"from,message,description,full_picture,created_time,likes,comments,object_id,type,name,link",access_token:factory.token});return factory.get(url)},findComments:function(){return factory.get(factory.page_urls.comments)},get:function(url){return $pwaRequest.get(url,{withCredentials:!1})}};return factory}),angular.module("starter").factory("Codescan",function($cordovaBarcodeScanner,$cordovaClipboard,$ionicHistory,LinkService,$state,$window,$rootScope,Application,Dialog,$injector,$ocLazyLoad,SB,Customer,$q){var factory={scanProtocols:["tel:","http:","https:","geo:","sms:","smsto:","mailto:","ctc:"],checkCascade:function(qrCode,next){next.length>0&&next.shift()(qrCode,next)},scanDiscount:function(){Customer.isLoggedIn()?$cordovaBarcodeScanner.scan().then(function(scannedData){var qrCode=scannedData.text.replace("sendback:","");factory.checkDiscount(qrCode)}):Dialog.confirm("Login required","You must be logged in to unlock a coupon.",["LOGIN OR SIGNUP","DONE"],"text-center","codescan").then(function(result){result&&Customer.loginModal($rootScope,factory.scanDiscount)})},checkDiscount:function(qrCode,next){$ocLazyLoad.load("./dist/packed/discount.bundle.min.js").then(function(){var DiscountFactory=$injector.get("Discount");DiscountFactory.isQrCode(qrCode).then(function(payload){DiscountFactory.setValueId(payload.value_id),DiscountFactory.unlockByQRCode(payload.qr_code).then(function(unlockPayload){Dialog.alert("Thanks","You have unlocked a coupon.","OK",2350,"codescan").then(function(){$state.go("discount-view",{value_id:payload.value_id,promotion_id:payload.promotion_id})})},function(error){Dialog.alert("Thanks","You have already unlocked this coupon.","OK",2350,"codescan")})},function(error){if(error.isLoginError)factory.scanDiscount();else if(next.length>0){next.shift()(qrCode,next)}})})},scanPadlock:function(){$cordovaBarcodeScanner.scan().then(function(scannedData){var qrCode=scannedData.text.replace("sendback:","");factory.checkPadlock(qrCode)})},checkPadlock:function(qrCode,next){var PadlockFactory=$injector.get("Padlock");PadlockFactory.isQrCode(qrCode).then(function(payload){PadlockFactory.unlockByQRCode(payload.qr_code).then(function(unlockPayload){PadlockFactory.unlocked_by_qrcode=!0,$window.localStorage.setItem("sb-uc",payload.qr_code),$rootScope.$broadcast(SB.EVENTS.PADLOCK.unlockFeatures),Dialog.alert("Thanks","You have successfully unlocked features.","OK",2350,"codescan").then(function(){Application.is_locked?($ionicHistory.clearHistory(),$state.go("home")):$ionicHistory.goBack()})},function(data){})},function(error){next.length>0&&next.shift()(qrCode,next)})},scanPassword:function(){var defer=$q.defer();return $cordovaBarcodeScanner.scan().then(function(scannedData){scannedData.cancelled||""===scannedData.text?defer.reject(scannedData):defer.resolve(scannedData.text)},function(error){defer.reject(error)}),defer.promise},copyToClipboard:function(text){Dialog.confirm("Result",text,["COPY","DONE"],"text-center","codescan").then(function(result){result&&$cordovaClipboard.copy(text).then(function(){},function(){})})},scanGeneric:function(){var defer=$q.defer();return $cordovaBarcodeScanner.scan().then(function(scannedData){if(defer.resolve(scannedData),!scannedData.cancelled&&""!==scannedData.text){var scannedProtocol=scannedData.text.toLowerCase().split(":")[0]+":";if(-1!==factory.scanProtocols.indexOf(scannedProtocol)){var contentUrl=scannedData.text;if("geo:"===scannedProtocol){var coords=contentUrl.replace("geo:","").split(",");return void Navigator.navigate({lat:parseFloat(coords[0]),lng:parseFloat(coords[1])})}DEVICE_TYPE===SB.DEVICE.TYPE_IOS&&"smsto:"===scannedProtocol&&(contentUrl=contentUrl.replace(/(smsto):/i,"sms:").replace(/([0-9]):(.*)/,"$1")),LinkService.openLink(contentUrl,{global:{browser:"external_browser"}})}else{var qrCode=scannedData.text.replace("sendback:","");factory.checkCascade(qrCode,[factory.checkDiscount,factory.checkPadlock,factory.copyToClipboard])}}},function(error){defer.reject(error),Dialog.alert("Error","An error occurred while reading the code.","OK",2350,"codescan")}),defer.promise}};return factory}),angular.module("starter").factory("Padlock",function($pwaRequest){var factory={value_id:null,events:{},setValueId:function(value_id){factory.value_id=value_id},onStatusChange:function(id,urls){factory.events[id]=urls},flushData:function(){for(var i in factory.events)if(angular.isArray(factory.events[i]))for(var data=factory.events[i],j=0;j<data.length;j++)$pwaRequest.cache(data[j])},findUnlockTypes:function(){return this.value_id?$pwaRequest.get("padlock/mobile_view/findunlocktypes",{urlParams:{value_id:this.value_id}}):$pwaRequest.reject("[Factory::Padlock.findUnlockTypes] missing value_id")},find:function(){return this.value_id?$pwaRequest.get("padlock/mobile_view/find",{urlParams:{value_id:this.value_id}}):$pwaRequest.reject("[Factory::Padlock.find] missing value_id")},isQrCode:function(text){return $pwaRequest.post("padlock/mobile_view/is-qr-code",{data:{qrCode:text},cache:!1})},unlockByQRCode:function(qrcode){return qrcode?$pwaRequest.post("padlock/mobile_view/unlockByQRCode",{data:{qrcode:qrcode},cache:!1}):$pwaRequest.reject("[Factory::Padlock.unlockByQRCode] missing qrcode")}};return factory}),angular.module("starter").factory("Pages",function($pwaRequest,$rootScope,$q,$log,SB){var factory={data:null,features:[],touched:[],last_refresh:-1,refresh_interval:$rootScope.isOverview?0:300,is_refreshing:!1},_ready=!1,_ready_resolver=$q.defer();return Object.defineProperty(factory,"ready",{get:function(){return _ready?$q.resolve():_ready_resolver.promise},set:function(value){!0===(_ready=!!value)&&_ready_resolver.resolve()}}),factory.populate=function(data){return factory.data=angular.copy(data),factory.features=angular.copy(data.pages),factory.data.pages=_.filter(data.pages,{homepage:!0}),data.hasOwnProperty("touched")&&(factory.touched=data.touched,factory.last_refresh=Math.trunc(Date.now()/1e3)),$rootScope.$broadcast(SB.EVENTS.CACHE.pagesReload),factory.ready=!0,$q.resolve(data)},factory.getActivePages=function(){return _.filter(factory.features,{is_active:!0})},factory.refresh=function(){$pwaRequest.get("front/mobile/pagesv2",{refresh:!0}).then(function(data){factory.features=angular.copy(data.pages),factory.data.pages=_.filter(data.pages,{homepage:!0})})},factory.updateTouched=function(){var deferred=$q.defer(),past_refresh=factory.last_refresh+factory.refresh_interval,now=Math.trunc(Date.now()/1e3);return!factory.is_refreshing&&past_refresh<now?(factory.is_refreshing=!0,$pwaRequest.get("front/mobile/touched",{refresh:!0}).then(function(data){var will_refresh=!1;angular.forEach(data.touched,function(feature,value_id){factory.touched.hasOwnProperty(value_id)&&(factory.touched[value_id].touched_at<feature.touched_at||feature.expires_at<now)&&(will_refresh=!0)}),factory.touched=data.touched,factory.last_refresh=now,deferred.resolve(factory.touched),will_refresh&&factory.refresh(),factory.is_refreshing=!1})):deferred.resolve(factory.touched),deferred.promise},factory.getForValueId=function(value_id){return factory.updateTouched(),factory.touched.hasOwnProperty(value_id)?factory.touched[value_id]:{touched_at:-1,expires_at:-1}},factory.getLayoutIdForValueId=function(value_id){return _.get(_.filter(factory.features,function(feature){return feature.value_id==value_id})[0],"layout_id",1)},factory.getTouchedAt=function(value_id){return factory.getForValueId(value_id).touched_at},factory.getExpiresAt=function(value_id){return factory.getForValueId(value_id).expires_at},factory.getLayoutIdForValueId=function(value_id){return _.get(_.filter(factory.features,{value_id:1*value_id})[0],"layout_id",1)},factory.getValueId=function(valueId){return _.find(factory.features,{value_id:1*valueId})},factory.getPayloadForValueId=function(value_id){return _.get(_.filter(factory.features,{value_id:1*value_id})[0],"embed_payload",!1)},factory}),angular.module("starter").factory("Tc",function($pwaRequest){var factory={id:null,extendedOptions:{},setId:function(id){factory.id=id},find:function(tc_id,refresh){return factory.id&&tc_id||$pwaRequest.reject("[Factory::Tc.find] missing factory.id or tc_id"),$pwaRequest.get("application/mobile_tc_view/find",{urlParams:{tc_id:tc_id||factory.id},refresh:refresh})}};return factory}),angular.module("starter").factory("Cms",function($pwaRequest){var factory={value_id:null,extendedOptions:{},setValueId:function(value_id){factory.value_id=value_id},setExtendedOptions:function(options){factory.extendedOptions=options},preFetch:function(){factory.findAll()},findAll:function(page_id,refresh){return this.value_id?$pwaRequest.get("cms/mobile_page_view/findall",angular.extend({urlParams:{value_id:this.value_id,page_id:page_id},refresh:refresh},factory.extendedOptions)):$pwaRequest.reject("[Factory::Cms.findAll] missing value_id")},find:function(page_id,refresh){return this.value_id?$pwaRequest.get("cms/mobile_page_view/find",{urlParams:{value_id:this.value_id,page_id:page_id},refresh:refresh}):$pwaRequest.reject("[Factory::Cms.find] missing value_id")},findBlock:function(block_id,page_id,refresh){return this.value_id?$pwaRequest.get("cms/mobile_page_view/findblock",{urlParams:{block_id:block_id,page_id:page_id,value_id:this.value_id},refresh:refresh}):$pwaRequest.reject("[Factory::Cms.findBlock] missing value_id")}};return factory}),angular.module("starter").factory("Push",function($pwaRequest,$session,SB){var factory={value_id:null,device_type:DEVICE_TYPE,device_token:null,lastError:null,lastErrorMessage:null,unread_count:0,extendedOptions:{},setValueId:function(valueId){factory.value_id=valueId},setExtendedOptions:function(options){factory.extendedOptions=options},preFetch:function(page){factory.findAll()},isRegistered:function(params){return $pwaRequest.post("/push/device/is-registered",{data:angular.extend(params,{device_uid:$session.getDeviceUid()}),cache:!1})},registerAndroidDevice:function(params){return $pwaRequest.post("/push/android/registerdevice",{data:angular.extend(params,{device_uid:$session.getDeviceUid(),provider:"fcm"}),cache:!1})},registerIosDevice:function(params){return $pwaRequest.post("/push/iphone/registerdevice",{data:angular.extend(params,{device_uid:$session.getDeviceUid()}),cache:!1})},deletePush:function(deliverId){return $pwaRequest.post("/push/mobile_list/delete",{data:{device_uid:$session.getDeviceUid(),deliver_id:deliverId},cache:!1})},findAll:function(offset,refresh){return this.value_id||$pwaRequest.reject("[Factory::Push.findAll] missing value_id"),$pwaRequest.get("push/mobile_list/findall",angular.extend({urlParams:{value_id:this.value_id,device_uid:$session.getDeviceUid(),offset:offset},refresh:!0},factory.extendedOptions))},getSample:function(){return this.value_id||$pwaRequest.reject("[Factory::Push.getSample] missing value_id"),$pwaRequest.get("push/mobile_list/get-sample",{urlParams:{value_id:this.value_id}})},updateUnreadCount:function(){return $pwaRequest.get("push/mobile/count",{urlParams:{device_uid:$session.getDeviceUid()}})},getInAppMessages:function(){return $pwaRequest.get("push/mobile/inapp",{urlParams:{device_uid:$session.getDeviceUid()}})},getLastMessages:function(cache){var localCache=void 0===cache||cache;return $pwaRequest.get("push/mobile/lastmessages",{urlParams:{device_uid:$session.getDeviceUid()},refresh:!0,cache:localCache})},markInAppAsRead:function(){return $pwaRequest.get("push/mobile/readinapp",{urlParams:{device_uid:$session.getDeviceUid(),device_type:factory.device_type},cache:!1})},markAsDisplayed:function(messageId){var url="";switch(factory.device_type){case SB.DEVICE.TYPE_ANDROID:url="push/android/markdisplayed";break;case SB.DEVICE.TYPE_IOS:url="push/iphone/markdisplayed";break;default:return $pwaRequest.reject()}return $pwaRequest.get(url,{data:{device_uid:$session.getDeviceUid(),message_id:messageId},cache:!1})}};return factory}),angular.module("starter").controller("PushController",function($location,$rootScope,$scope,$stateParams,$timeout,LinkService,SB,Push,Dialog){angular.extend($scope,{is_loading:!0,value_id:$stateParams.value_id,collection:[],toggle_text:!1,card_design:!1,load_more:!1,use_pull_refresh:!0}),Push.setValueId($stateParams.value_id),$scope.loadContent=function(loadMore){if(isOverview)Push.getSample().then(function(payload){$scope.collection=payload.collection,$scope.settings=payload.settings,$timeout(function(){$scope.card_design="card"===payload.settings.design}),$scope.is_loading=!1});else{var offset=$scope.collection.length;Push.findAll(offset).then(function(data){data.collection&&($scope.collection=$scope.collection.concat(data.collection),$scope.settings=data.settings,$timeout(function(){$scope.card_design="card"===data.settings.design}),$rootScope.$broadcast(SB.EVENTS.PUSH.readPush)),$scope.page_title=data.page_title,$scope.load_more=data.collection.length>=data.displayed_per_page}).then(function(){loadMore&&$scope.$broadcast("scroll.infiniteScrollComplete"),$scope.is_loading=!1})}},$scope.pullToRefresh=function(){isOverview?Push.getSample().then(function(payload){$scope.collection=payload.collection,$scope.is_loading=!1,$scope.$broadcast("scroll.refreshComplete")}):($scope.pull_to_refresh=!0,$scope.load_more=!1,Push.findAll(0,!0).then(function(data){data.collection&&($scope.collection=data.collection,$rootScope.$broadcast(SB.EVENTS.PUSH.readPush)),$scope.load_more=data.collection.length>=data.displayed_per_page}).then(function(){$scope.$broadcast("scroll.refreshComplete"),$scope.pull_to_refresh=!1}))},$scope.deletePush=function(item){Dialog.confirm("Confirmation","Please confirm you want to delete this notification!",["Yes","No"],"","chatrooms").then(function(result){result&&Push.deletePush(item.deliver_id).then(function(success){$scope.pullToRefresh(),Dialog.alert("Success",success.message,"OK",-1,"push")},function(error){Dialog.alert("Error",error.message,"OK",-1,"push")})})},$scope.showItem=function(item){if(item.url){if($rootScope.isNotAvailableOffline())return;LinkService.openLink(item.url,{},!1)}else item.action_value&&$location.path(item.action_value)},$scope.hasItem=function(item){return item.url||item.action_value},$scope.loadMore=function(){$scope.loadContent(!0)},$scope.loadContent()}),angular.module("starter").factory("Search",function($pwaRequest){var factory={url:null,agent:null,extendedOptions:{},setAgent:function(agent,valueId){agent.value_id=valueId,factory.agent=agent,factory.find=agent.find},findAll:function(parameters){return this.url&&this.agent?$pwaRequest.post(factory.url,{urlParams:{value_id:parameters.value_id},data:parameters,cache:!1,refresh:!0}):$pwaRequest.reject("[Factory::Search.findAll] missing url and agent")}};return factory}),angular.module("starter").controller("CustomerController",function($state,$ionicHistory,$cordovaCamera,$ionicActionSheet,Loader,$ionicPopup,Customer,$ionicScrollDelegate,$rootScope,$scope,$timeout,$translate,$session,Application,Dialog,HomepageLayout,Modal,Picture,CropImage,Pages){if($scope.pristineCustomer=function(){return Customer.pristineCustomer()},angular.extend($scope,{currentLanguage:"en",customer:Customer.customer||$scope.pristineCustomer(),card:{},card_design:!1,is_logged_in:Customer.isLoggedIn(),app_name:Application.app_name,display_login_form:!$scope.is_logged_in&&!Customer.display_account_form,display_account_form:$scope.is_logged_in||Customer.display_account_form,display_settings:!1,privacy_policy:Application.privacyPolicy.text,privacy_policy_gdpr:Application.privacyPolicy.gdpr,XS_VERSION:XS_VERSION,gdpr:{isEnabled:Application.gdpr.isEnabled},myAccount:{title:$translate.instant("My account","customer"),settings:{enable_registration:!0,enable_commercial_agreement:!0,enable_commercial_agreement_label:$translate.instant("I'd like to hear about offers & services","customer"),enable_password_verification:!1}},settings:{push:PushService.isEnabled,counter:7},version:{number:$translate.instant("Latest","customer"),code:$translate.instant("latest","customer")},user:{email:"",password:""}}),$scope.i18n={localBirthdateTitle:$translate.instant("Birthdate","customer")},$scope.backButtonIcon=function(){return Application.getBackIcon()},$session.getItem("sb-current-language").then(function(value){$scope.currentLanguage=null===value?"en":value}).catch(function(error){$scope.currentLanguage="en"}),window.IS_NATIVE_APP)try{cordova.getAppVersion.getVersionNumber(function(versionNumber){$scope.version.number=versionNumber}),cordova.getAppVersion.getVersionCode(function(versionCode){$scope.version.code=versionCode})}catch(e){}$scope.privacyPolicyField={label:$translate.instant("I have read & agree the privacy policy.","customer"),value:$scope.customer.privacy_policy,is_required:!0,modaltitle:$translate.instant("Privacy policy.","customer"),htmlContent:Application.gdpr.isEnabled?Application.privacyPolicy.text+"<br /><br />"+Application.privacyPolicy.gdpr:Application.privacyPolicy.text},$scope.ppModal=null,$scope.showPrivacyPolicy=function(){Modal.fromTemplateUrl("templates/cms/privacypolicy/l1/privacy-policy-modal.html",{scope:angular.extend($scope,{close:function(){$scope.ppModal.hide()},cardDesign:$scope.card_design,is_loading:!1,page_title:$scope.privacyPolicyField.modaltitle}),animation:"slide-in-right-left"}).then(function(modal){return $scope.ppModal=modal,$scope.ppModal.show(),modal})},$scope.rndName=function(length){for(var result="",characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",charactersLength=characters.length,i=0;i<length;i++)result+=characters.charAt(Math.floor(Math.random()*charactersLength));return result},$scope.rndEmail=$scope.rndName(20),$scope.rndOldPassword=$scope.rndName(20),$scope.rndPassword=$scope.rndName(20),$scope.rndPasswordRepeat=$scope.rndName(20),$scope.displayField=function(field){return!(("spacer"===field.type||!$scope.card_design)&&$scope.card_design)&&((!field.when||"guest"!==field.when||!Customer.isLoggedIn())&&!(field.when&&"customer"===field.when&&!Customer.isLoggedIn()))},$scope.deleteAccount=function(){Dialog.confirm("Attention","Your are about to delete your account, this action can not be reverted<br />Please confirm!",["YES, DELETE","NO, GO BACK"],"","customer").then(function(result){result&&(Loader.show($translate.instant("Please wait...","customer")),Customer.deleteAccount().then(function(payload){Loader.hide(),Customer.logout(),Dialog.alert(void 0,payload.message,"OK",-1,"customer")},function(error){Dialog.alert("Error",error.message,"OK",-1,"customer")}).then(function(){Loader.hide()}))})},$scope.closeAction=function(){!0===$scope.display_forgot_password_form||!0===$scope.display_settings?$scope.displayLoginForm():Customer.closeModal()},$scope.getLanguages=function(){return window.AVAILABLE_LANGUAGES},$scope.getPushToken=function(){var message=$translate.instant("Your device is not registered for Push notifications!","customer");return null!==Push.lastErrorMessage&&null===Push.device_token?message=Push.lastErrorMessage:null!==Push.device_token&&Push.device_token.length>0&&(message=Push.device_token),message},$scope.devCounter=function(){if(window.IS_NATIVE_APP)try{if($scope.settings.counter<=0)return;$scope.settings.counter--,window.plugins.toast.hide(),window.plugins.toast.showShortBottom($translate.instant("$1 more to access advanced options!","customer").replace("$1",$scope.settings.counter))}catch(e){console.error("Something went wrong while accessing advanced options!")}},$scope.sendTestPush=function(){Loader.show($translate.instant("Sending...","customer")),Customer.sendTestPush(Push.device_token).then(function(payload){},function(error){}).then(function(){Loader.hide()})},$scope.messagePushRegistration=function(success){Push.lastErrorMessage&&Push.lastErrorMessage.length?(success&&(Push.lastErrorMessage+="<br />"+$translate.instant("Note: the registration refresh failed now, but you still have a valid push token!","customer")),Dialog.alert("Error",Push.lastErrorMessage,"OK")):Dialog.alert("Success","Your are correctly registered to push!","OK")},$scope.forcePushRegistration=function(){PushService.register(!0),PushService.isReadyPromise.then(function(){$scope.messagePushRegistration(!0)},function(){$scope.messagePushRegistration(!1)})},$scope.sendTestLocal=function(){PushService.sendLocalNotification(Date.now(),$translate.instant("Local notification","customer"),$translate.instant("This is a local notification test!","customer"))},$scope.updateSettings=function(){Loader.show($translate.instant("Saving...","customer")),Customer.saveSettings($scope.settings).then(function(payload){PushService.isEnabled=$scope.settings.push},function(error){$scope.settings.push=!$scope.settings.push}).then(function(){Loader.hide()})},$scope.reloadLocale=function(select){$scope.currentLanguage=select.currentLanguage,$session.setItem("sb-current-language",$scope.currentLanguage);var tmpLang=$scope.currentLanguage.replace("_","-").toLowerCase(),langPriority=[tmpLang,tmpLang.split("-")[0],"en"];moment.locale(langPriority),Loader.show($translate.instant("Loading translations...","customer")),Application.reloadLocale($scope.currentLanguage).then(function(success){$timeout(function(){$translate.translations=success.translations,Pages.populate(success.features),$ionicHistory.clearCache().then(function(){Customer.hideModal(),$state.reload()})})}).then(function(){Loader.hide()})},$scope.getVersion=function(){return window.IS_NATIVE_APP?$scope.version.number+" ("+$scope.version.code+")":$scope.version.number},$scope.loginEmail=function(){var hooksAfterLogin=["customer.after.login"],hooksAfterLoginError=["customer.after.login.error"];Customer.runHooks(["customer.before.login"],$scope.customer).then(function(){Customer.login($scope.customer).then(function(success){Customer.runHooks(hooksAfterLogin,{customer:$scope.customer,success:success})},function(error){Customer.runHooks(hooksAfterLoginError,{customer:$scope.customer,error:error})})},function(error){console.log("runHooks",error),Dialog.alert("Error",error.message,"OK",-1)})},$scope.retrieveForgotPassword=function(){Customer.forgotPassword($scope.customer.email)},$scope.requestGdprToken=function(){Customer.requestToken()},$scope.avatarUrl=function(){return $scope.customer.image&&0===$scope.customer.image.indexOf("data:")?$scope.customer.image:Customer.getAvatarUrl()},$scope.editProfilePicture=function(){Picture.takePicture().then(function(result){CropImage.openPopup(result.image).then(function(success){$scope.customer.image=success},function(error){})},function(takeError){})},$scope.loadContent=function(){$scope.myAccount=Application.myAccount,$scope.myAccount.settings.enable_commercial_agreement_label.length<=0&&($scope.myAccount.settings.enable_commercial_agreement_label=$translate.instant("I'd like to hear about offers & services","customer")),$scope.card_design="card"===$scope.myAccount.settings.design,$scope.is_logged_in&&(Loader.show(),$scope.displayAccountForm(),$scope.customer=Customer.customer,$scope.customer.metadatas=_.isObject($scope.customer.metadatas)?$scope.customer.metadatas:{},HomepageLayout.getActiveOptions().then(function(options){$scope.custom_fields=[],_.forEach(options,function(opt){var fields=_.get(opt,"custom_fields");_.isArray(fields)&&fields.length>0&&($scope.custom_fields.push(_.pick(opt,["name","code","custom_fields"])),_.forEach(fields,function(field){var mpath=opt.code+"."+field.key;_.set($scope.customer.metadatas,mpath,_.get($scope.customer.metadatas,mpath,field.default||null))}))}),Loader.hide()}))},$scope.checkPasswordStatus=function(){$scope.customer.change_password||$timeout(function(){$scope.customer.old_password="",$scope.customer.password="",$scope.customer.repeat_password=""})},$scope.checkMobile=function(){if($scope.myAccount.settings.use_mobile||$scope.myAccount.settings.extra_mobile){var iti=Customer.getIti("customer_mobile");if(!iti)return!0;if(!iti.isValidNumber())return!1;$scope.customer.mobile=iti.getNumber()}return!0},$scope.registerOrSave=function(){if(Loader.show(),$scope.myAccount.settings.enable_password_verification&&$scope.customer.password!==$scope.customer.repeat_password)return Loader.hide(),void Dialog.alert("Error","Passwords do not match!","OK",-1,"customer");if($scope.checkPasswordStatus(),!$scope.checkMobile())return Loader.hide(),void Dialog.alert("Error","Your mobile number is not valid!","OK",-1,"customer");var hooksBefore=[],hooksAfter=[],hooksAfterError=[];Customer.isLoggedIn()?(hooksBefore.push("customer.before.update"),hooksAfter.push("customer.after.update"),hooksAfterError.push("customer.after.update.error")):(hooksBefore.push("customer.before.register"),hooksAfter.push("customer.after.register"),hooksAfterError.push("customer.after.register.error")),Customer.runHooks(hooksBefore,{customer:$scope.customer,settings:$scope.myAccount.settings}).then(function(){Customer.save($scope.customer).then(function(success){return Customer.runHooks(hooksAfter,{customer:$scope.customer,success:success}).then(function(){Loader.hide(),Dialog.alert("Account",success.message,"OK",-1,"customer").then(function(){Customer.closeModal()})},function(error){Loader.hide(),Dialog.alert("Error",error.message,"OK",-1)}),success},function(error){Customer.runHooks(hooksAfterError,{customer:$scope.customer,error:error}).then(function(){Loader.hide(),Dialog.alert("Error",error.message,"OK",-1)},function(error){Loader.hide(),Dialog.alert("Error",error.message,"OK",-1)})}).then(function(){Loader.hide()})},function(error){Loader.hide(),Dialog.alert("Error",error,"OK",-1)})},$scope.logout=function(){Dialog.confirm("Confirmation","Are you sure you want to log out?",["YES","NO"],"","customer").then(function(result){result&&Customer.logout().then(function(data){data.success&&(Customer.hideModal(),$scope.is_logged_in=Customer.isLoggedIn(),$scope.customer=Customer.customer||$scope.pristineCustomer())})})},$scope.willShowSettings=function(){return window.IS_NATIVE_APP},$scope.copyTokenToClipboard=function(){if(window.IS_NATIVE_APP)try{cordova.plugins.clipboard.copy(Push.device_token),window.plugins.toast.showShortCenter($translate.instant("Token copied to clipboard!","customer"))}catch(e){console.error("Something went wrong while copiyng token to clipboard!")}},$scope.appSettings=function(){!0!==$scope.display_settings?($scope.scrollTop(),$scope.display_forgot_password_form=!1,$scope.display_account_form=!1,$scope.display_login_form=!1,$scope.display_settings=!0):$scope.displayLoginForm()},$scope.displayLoginForm=function(){Customer.isLoggedIn()?$scope.displayAccountForm():($scope.scrollTop(),$scope.display_forgot_password_form=!1,$scope.display_account_form=!1,$scope.display_settings=!1,$scope.display_login_form=!0)},$rootScope.$on("displayLogin",function(){$scope.displayLoginForm()}),$scope.displayForgotPasswordForm=function(){$scope.scrollTop(),$scope.display_login_form=!1,$scope.display_account_form=!1,$scope.display_settings=!1,$scope.display_forgot_password_form=!0},$scope.displayAccountForm=function(){if($scope.scrollTop(),$scope.myAccount||$scope.myAccount.settings||$scope.myAccount.settings.enable_registration||$scope.displayLoginForm(),$scope.display_login_form=!1,$scope.display_settings=!1,$scope.display_forgot_password_form=!1,$scope.display_account_form=!0,$scope.myAccount.settings.use_mobile||$scope.myAccount.settings.extra_mobile){let defaultFallbackLanguage=CURRENT_LANGUAGE;Customer.getIpInfo().then(function(payload){payload&&payload.hasOwnProperty("country")&&payload.country.length>1?Customer.initIti("customer_mobile",payload.country):Customer.initIti("customer_mobile",defaultFallbackLanguage)},function(error){Customer.initIti("customer_mobile",CURRENT_LANGUAGE)})}},$scope.scrollTop=function(){$ionicScrollDelegate.scrollTop(!1)},$scope.removeCreditCard=function(){Dialog.confirm("Confirmation","Do you confirm you want to remove your card?",["Yes, delete!","No, go back!"],"","customer").then(function(result){result&&($scope.is_loading=!0,Loader.show(),Customer.removeCard().then(function(data){$scope.card={},$scope.customer.stripe={}},function(data){data&&angular.isDefined(data.message)&&Dialog.alert("Error",data.message,"OK",-1)}).then(function(){$scope.is_loading=!1,Loader.hide()}))})},$scope.loadContent()}),angular.module("starter").factory("Customer",function($pwaRequest,$rootScope,$session,$timeout,$injector,$translate,$q,Application,Loader,Modal,Dialog,Url,SB,TelInput){var factory={customer:null,modal:null,login_modal:null,can_access_locked_features:!1,display_account_form:!1,login_modal_hidden_subscriber:null,is_logged_in:!1,loginScope:null,itis:{},uuidv4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)})},populate:function(customer){factory.customer=customer,factory.is_logged_in=customer.isLoggedIn,factory.id=customer.id,factory.can_access_locked_features=customer.can_access_locked_features,factory.is_logged_in&&$rootScope.$broadcast(SB.EVENTS.AUTH.loginSuccess),factory.saveCredentials(customer.token)},hideModal:function(){factory.login_modal.hide()},getAvatarUrl:function(){return factory.customer&&factory.customer.image&&factory.customer.image.length>0?IMAGE_URL+"images/customer"+factory.customer.image:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAlgCWAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+uKKKTNABRS0maADFFFBNABRijNFABQaM0UAGKKO9FABRRmigBaSijNABS0lHagAoo79aKAFpPzoooAPzoozRQAUUUtACUUVp6N4b1LX5CtlavMoODJ0Rfqx4oAzKK9GsPg3cyKDeahFCf7sKF/1OKvt8GbUrxqcob1MQx/OgDyqiu+1L4QajbKWs7qG8A/hbMbH6ZyP1ri9Q0y60qcwXlvJbyjnbIMZ9x60AVaPzo4oBoAMUUdKKACg0UUAFFGaKACiiigAozRRQAUZorofA/hv/hJddjhcH7LEPMmOf4R2/E8fnQBteA/h4daVNQ1EMllnMcXQy+/sv869btreKzgSGCNIYkGFRBgAU+NFiRERQiKMKq8AD0p2aADNGaM0UAGao6vo1nrlo1vewLNGehP3lPqD2NXqM0AeD+MvBtx4UuwQTNZSn91Nj/x1vf8AnXOV9HaxpUGt6bNZ3K7opVxnup7Ee4r581XTZtI1G4s58CWFypx0PoR9RzQBUzRmiigABooooAM80Ufj+tFAC0lFBNABRRRQAtew/CPTBa+H5bsj95dSnn/ZXgfrurx2vevh+oTwdpgXpsJ/HcaAOhoxRR0oAKKKKACiiigAryX4w6YINWs71Rj7RGUbHqvf8iPyr1qvPfjKoOkaex+8JyB/3yf8BQB5NRR+FGaAClpKM+1ABRRRQAUUUUAFFFGaACvbPhbfC78JQxZy1vI8ZH47h+jV4nmu2+FniFdK1p7KZtsF5hQT0Eg+7+eSPyoA9ko9KKM0AGaKKKAFozSUUAFeYfGW+Bk02zB+ZQ8rD64A/k1emyypDE8kjBI0BZmJwAB1NfP3izXD4h165vBnymO2IHsg4H+P40AZFFFFABRRRQAd6KM0UAFGKOxooAPwo5ooxQAUoJUgg4I6EdqSjHNAHsfgDx7HrMEdhfyBNQQbVdjgTD/4r2713H4V4X4a+H+ra/5cyp9jtjyJ5eM+6jqf5e9ezaLp8+mWEdvPey38i/8ALWUAH9P6kmgC9RRRQAUhIVSW4AHJPalNc94x8NXniSy8m21J7NcfNFt+ST6kc/zHtQBxHxG8epqKvpemvuts4mnU8Sf7I9vfv9Ovnlauu+F9R8Oy7b23KIThZV5Rvof6HmsrFAC0maKKACjtRig0AHeijvRQAZozR+NH40AGRRkUfjRyelAD4YnuJUiiRpJHIVVUZJPpXrXgv4aQ6csd5qqLPdn5lgPKR/X1P6VL8OvBA0a3TUb2PN/KuURv+WSn+p/+t613NACDpjGB9KWikoAWiko70ALRSGloAiubWK8geGeJZoXGGR1yDXk3jf4bvpKyX2mK0tmOZIerRe49R+or16kPPXBoA+Zc0V3nxI8EDR5jqVimLKRv3ka9ImP9D+hrg6ACjNFHagAoo/GigAopaSgA/Gu2+GHhcaxqhv7hN1paEEA9Hk7D8Ov5VxaI0jKqgsxOAB1Jr6D8LaKugaFa2YA3quZCO7nk/r/KgDWxRR+FFABRRRQAfjRRRQAGiiigAooooAiu7SK+tZbedBJDKpR1PcGvn7xPoMnhzWZ7J8lFO6Nz/Eh6H/PcV9DVwnxY0IX2jJqEa/vrRsMQOSh6/kcH86APH6PxpaKAE/H9aKKKACiiigDpfh3pY1TxXaBhmODM7f8AAen64r3XFeYfBmyBl1K7I5ASJT9ck/yFeoUAJRilNFACYoxS0UAJijHNL+FFACUtFFACYoxS0UAHFQX1nHf2c9tKMxzIY2HsRip6KAPmm6tnsrqa3kGJInKN9QcGoq6X4iWYsvF9+AMLIVlH/AgCf1zXNUAFFHeigAzmjvRRQB7B8Hogvh25f+J7oj8Aq/8A167vpRRQAUUUUAFFFFABRRRQAUYoooAKO9FFABRRRQB478X4gniWBx/HaqT9dzCuGoooAWiiigD/2Q=="},loginModal:function(scope,loginCallback,logoutCallback,registerCallback){TelInput.isLoaded().then(function(){if($rootScope.isNotAvailableOffline())return!1;var modalScope=$rootScope.$new(!0);modalScope.$on("modal.shown",function(){var loginSuccessSubscriber=modalScope.$on(SB.EVENTS.AUTH.loginSuccess,function(){"function"==typeof loginCallback&&loginCallback(),factory.login_modal.hide()}),logoutSuccessSubscriber=modalScope.$on(SB.EVENTS.AUTH.logoutSuccess,function(){"function"==typeof logoutCallback&&logoutCallback(),factory.login_modal.hide()}),registerSubscriber=modalScope.$on(SB.EVENTS.AUTH.registerSuccess,function(){"function"==typeof registerCallback&&registerCallback(),factory.login_modal.hide()});factory.login_modal_hidden_subscriber=modalScope.$on("modal.hidden",function(){factory.login_modal_hidden_subscriber(),loginSuccessSubscriber(),logoutSuccessSubscriber(),registerSubscriber()})});return Modal.fromTemplateUrl("templates/customer/account/l1/my-account.html",{scope:modalScope,animation:"slide-in-up"}).then(function(modal){return factory.login_modal=modal,factory.login_modal.show(),modal})})},closeModal:function(){factory.login_modal.hide(),factory.login_modal.remove()},login:function(data){var localData=angular.extend({},data,{device_uid:$session.getDeviceUid()});Loader.show();var promise=$pwaRequest.post("customer/mobile_account_login/post",{data:localData,cache:!1});return promise.then(function(result){return factory.populate(result.customer),result},function(error){Dialog.alert("Error",error.message,"OK",-1)}).then(function(result){return Loader.hide(),result}),promise},register:function(customer){var localCustomer=angular.extend({},customer,{device_uid:$session.getDeviceUid()}),promise=$pwaRequest.post("customer/mobile_account_register/post",{data:localCustomer,cache:!1});return promise.then(function(success){return factory.populate(success.customer),success}),promise},forgotPassword:function(email){try{Loader.show(),factory.forgottenpassword(email).then(function(data){data&&angular.isDefined(data.message)&&(Dialog.alert("",data.message,"OK",-1),data.success&&$rootScope.$broadcast("displayLogin"))},function(data){data&&angular.isDefined(data.message)&&Dialog.alert("Error",data.message,"OK",-1)}).then(function(){Loader.hide()})}catch(e){Loader.hide()}},save:function(customer){if(!factory.isLoggedIn())return factory.register(customer);var promise=$pwaRequest.post("customer/mobile_account_edit/post",{data:customer,cache:!1});return promise.then(function(success){return factory.populate(success.customer),success}),promise},saveSettings:function(settings){var localSettings=settings;return localSettings.deviceType=DEVICE_TYPE,localSettings.deviceUid=$session.getDeviceUid(),$pwaRequest.post("customer/mobile_account_edit/save-settings",{data:localSettings,cache:!1})},sendTestPush:function(deviceToken){return $pwaRequest.post("customer/mobile_account_edit/send-test-push",{data:{deviceToken:deviceToken},cache:!1})},forgottenpassword:function(email){Loader.show();var promise=$pwaRequest.post("customer/mobile_account_forgottenpassword/post",{data:{email:email},cache:!1});return promise.then(function(data){return Loader.hide(),data}),promise},logout:function(){Loader.show($translate.instant("Signing out...","customer"));var promise=$pwaRequest.get("customer/mobile_account_login/logout",{cache:!1});return promise.then(function(result){return factory.clearCredentials(),result}).then(function(result){return Loader.hide(),result}),promise},removeCard:function(){Loader.show();var promise=$pwaRequest.post("mcommerce/mobile_sales_stripe/removecard",{data:{customer_id:factory.id},cache:!1});return promise.then(function(){Loader.hide()}),promise},initIti:function(selector,country,options){var localCountry;try{localCountry=country.toLowerCase()}catch(e){localCountry=CURRENT_LANGUAGE}-1===intlTelInput_countries.indexOf(localCountry)&&(localCountry="gb");var localOptions=void 0===options?{}:options,itiOptions=angular.extend({},{allowDropdown:!0,nationalMode:!0,formatOnDisplay:!0,placeholderNumberType:"MOBILE",separateDialCode:!1,initialCountry:localCountry,autoPlaceholder:"off",dropdownContainer:document.body},localOptions),input=document.getElementById(selector);factory.itis.hasOwnProperty(selector)&&(factory.itis[selector].destroy(),delete factory.itis[selector]),factory.itis[selector]=window.intlTelInput(input,itiOptions)},getIti:function(selector){return factory.itis.hasOwnProperty(selector)?factory.itis[selector]:null},find:function(){return $pwaRequest.get("customer/mobile_account_edit/find")},deleteAccount:function(){return $pwaRequest.get("customer/mobile_account_login/delete-account")},getIpInfo:function(){var defer=$q.defer();var token=Application.ipinfo_key.length?"?token="+Application.ipinfo_key:"",oReq=new XMLHttpRequest;return oReq.onload=function(){defer.resolve(JSON.parse(this.responseText))},oReq.onerror=function(){defer.reject()},oReq.open("get","https://ipinfo.io/json"+token,!0),oReq.send(),defer.promise},isLoggedIn:function(){return factory.is_logged_in},requestToken:function(){Loader.show();var promise=$pwaRequest.post("customer/mobile_account/request-token",{cache:!1});return promise.then(function(data){return angular.isDefined(data.message)&&Dialog.alert("",data.message,"OK",-1),data},function(data){return data&&angular.isDefined(data.message)&&Dialog.alert("Error",data.message,"OK",-1),data}).then(function(){Loader.hide()}),promise},saveCredentials:function(uuid){$session.setId(uuid)},hooks:{"customer.before.login":[],"customer.after.login":[],"customer.before.update":[],"customer.after.update":[],"customer.before.register":[],"customer.after.register":[]},registerHook:function(key,callback){factory.hooks.hasOwnProperty(key)?"function"==typeof callback?factory.hooks[key].push(callback):console.error("[Customer.addHook] callback must be a function."):console.error("[Customer.addHook] invalid hook key.")},nextHook:function(payload,_hooks,deferred){if(0!==_hooks.length){var _currentHook=_hooks.shift(),_tmpQ=$q.defer(),_untouchedPayload=angular.copy(payload);try{_currentHook(payload,_tmpQ),_tmpQ.promise.then(function(success){factory.nextHook(payload,_hooks,deferred)},function(error){deferred.reject("An error occured please try again!<br />"+error.toString())})}catch(e){payload=_untouchedPayload,deferred.reject("An unknown error occured please try again!")}}else deferred.resolve("All done!")},runHooks:function(hooksList,payload){var deferred=$q.defer(),_hooks=[];for(var key in hooksList){var index=hooksList[key];factory.hooks.hasOwnProperty(index)&&(_hooks=_hooks.concat(angular.copy(factory.hooks[index])))}return _hooks.sort(function(a,b){return a.hasOwnProperty("priority")&&b.hasOwnProperty("priority")?a.priority-b.priority:0}),factory.nextHook(payload,_hooks,deferred),deferred.promise},pristineCustomer:function(){return factory.is_logged_in=!1,factory.customer.id="",factory.customer.civility="",factory.customer.firstname="",factory.customer.lastname="",factory.customer.nickname="",factory.customer.email="",factory.customer.image="",factory.customer.mobile="",factory.customer.intl_mobile="",factory.customer.birthdate="",factory.customer.change_password=!1,factory.customer.password="",factory.customer.repeat_password="",factory.customer.privacy_policy=!1,factory.customer.is_custom_image=!1,factory.customer.show_in_social_gaming=!1,factory.customer.metadatas={},factory.customer.communication_agreement=!1,factory.customer.is_logged_in=!1,factory.customer.isLoggedIn=!1,factory.customer.can_access_locked_features=!1,factory.customer.extendedFields=factory.customer.extendedFieldsPristine,factory.customer},clearCredentials:function(){factory.pristineCustomer(),$rootScope.$broadcast(SB.EVENTS.AUTH.logoutSuccess),$session.clear()}};return factory}),angular.module("starter").filter("parseUrlFilter",function(){var urlPattern=/(www|http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi;return function(text,target){var _target=void 0!==target?target:"_blank",_text=text;return angular.forEach(text.match(urlPattern),function(url){var urlPos=text.indexOf(url);-1===_text.substr(urlPos-6,4).indexOf("src")&&(_text=_text.replace(url,'<a target="'+_target+'" href='+url+">"+url+"</a>"))}),_text}}).filter("chunk",function($log){return function(items,chunk_size){var chunks=[];if(angular.isArray(items)){isNaN(chunk_size)&&(chunk_size=4);for(var i=0;i<items.length;i+=chunk_size)chunks.push(items.slice(i,i+chunk_size))}else $log.error("items is not an array: "+angular.toJson(items));return chunks}}).filter("achunk",function($log){return function(items,size_a,size_b){var chunks=[],alternate=!0;if(angular.isArray(items)){isNaN(size_a)&&(size_a=2),isNaN(size_b)&&(size_b=1);for(var i=0;i<items.length;)chunks.push(items.slice(i,i+(alternate?size_a:size_b))),i+=alternate?size_a:size_b,alternate=!alternate}else $log.error("items is not an array: "+angular.toJson(items));return chunks}}).filter("numberFixedLen",function(){return function(n,len){var num=parseInt(n,10);if(len=parseInt(len,10),isNaN(num)||isNaN(len))return n;for(num=""+num;num.length<len;)num="0"+num;return num}}).filter("secondsToDateTime",[function(){return function(seconds){return new Date(1970,0,1).setSeconds(seconds)}}]).filter("translate",function($translate){return function(text,context){return void 0===context?$translate.instant(text):$translate.instant(text,context)}}).filter("seconds_to_minutes",function(){return function(seconds){if(Number.isNaN(seconds))return"0:00";var s=Math.ceil(seconds);return(s-(s%=60))/60+(s>9?":":":0")+s}}).filter("seconds_to_human",function(){return function(seconds){if(Number.isNaN(seconds))return"0:00";var hasDays,hasHours,shouldPush=!1,parts=[],_seconds=Math.floor(seconds),numDays=Math.floor(_seconds%31536e3/86400),hasMinutes=!1;numDays>0&&(shouldPush=!0,hasDays=!0,parts.push(numDays.toString()));var numHours=Math.floor(_seconds%31536e3%86400/3600);(numHours>0||shouldPush)&&(shouldPush=!0,hasHours=!0,parts.push(numHours.toString()));var numMinutes=Math.floor(_seconds%31536e3%86400%3600/60);(numMinutes>0||shouldPush)&&(shouldPush=!0,hasMinutes=!0,parts.push(numMinutes.toString().padStart(2,"0")));var numSeconds=_seconds%31536e3%86400%3600%60;return(numSeconds>0||shouldPush)&&(hasDays||hasHours||hasMinutes||parts.push("0"),parts.push(numSeconds.toString().padStart(2,"0"))),parts.join(":")}}).filter("trusted_html",function($sce){return function(text){return $sce.trustAsHtml(text)}}).filter("html_linky",function($sce,$filter){return function(text_or_html){return text_or_html=$filter("linky")(text_or_html),text_or_html=angular.element("<div/>").html(text_or_html).text(),text_or_html=$sce.trustAsHtml(text_or_html)}}).filter("from_now",function(){return function(date,format){return window.momentjs_loaded&&moment(date).isValid()?void 0===format?moment(date).fromNow():moment(date,format).fromNow():date}}).filter("moment_calendar",function(){return function(date,format){var now=moment();return window.momentjs_loaded&&moment(date).isValid()?moment(date).isSame(now,"day")&&moment(date).isSame(now,"hour")?void 0===format?moment(date).fromNow():moment(date,format).fromNow():moment(date).isSame(now,"day")?void 0===format?moment(date).calendar():moment(date,format).calendar():void 0===format?moment(date).format("lll"):moment(date,format).format("lll"):date}}).filter("multiWordsFilter",function($filter){return function(inputArray,searchText,booleanOp){var result;booleanOp=booleanOp||"AND";var searchTerms=(searchText||"").toLowerCase().split(/\s+/);return"AND"===booleanOp?(result=inputArray,searchTerms.forEach(function(searchTerm){result=$filter("filter")(result,searchTerm)})):(result=[],searchTerms.forEach(function(searchTerm){result=result.concat($filter("filter")(inputArray,searchTerm))})),result}}).filter("moment",function(){return function(date){return window.momentjs_loaded?void 0===date?moment():moment(date):date}}).filter("emojify",function($sce){var EMOJIS={100:"üíØ",1234:"üî¢",interrobang:"‚ÅâÔ∏è",tm:"‚Ñ¢Ô∏è",information_source:"‚ÑπÔ∏è",left_right_arrow:"‚ÜîÔ∏è",arrow_up_down:"‚ÜïÔ∏è",arrow_upper_left:"‚ÜñÔ∏è",arrow_upper_right:"‚ÜóÔ∏è",arrow_lower_right:"‚ÜòÔ∏è",arrow_lower_left:"‚ÜôÔ∏è",keyboard:"‚å®",sunny:"‚òÄÔ∏è",cloud:"‚òÅÔ∏è",umbrella:"‚òîÔ∏è",showman:"‚òÉ",comet:"‚òÑ",ballot_box_with_check:"‚òëÔ∏è",coffee:"‚òïÔ∏è",shamrock:"‚òò",skull_and_crossbones:"‚ò†",radioactive_sign:"‚ò¢",biohazard_sign:"‚ò£",orthodox_cross:"‚ò¶",wheel_of_dharma:"‚ò∏",white_frowning_face:"‚òπ",aries:"‚ôàÔ∏è",taurus:"‚ôâÔ∏è",sagittarius:"‚ôêÔ∏è",capricorn:"‚ôëÔ∏è",aquarius:"‚ôíÔ∏è",pisces:"‚ôìÔ∏è",spades:"‚ô†Ô∏è",clubs:"‚ô£Ô∏è",hearts:"‚ô•Ô∏è",diamonds:"‚ô¶Ô∏è",hotsprings:"‚ô®Ô∏è",hammer_and_pick:"‚öí",anchor:"‚öìÔ∏è",crossed_swords:"‚öî",scales:"‚öñ",alembic:"‚öó",gear:"‚öô",scissors:"‚úÇÔ∏è",white_check_mark:"‚úÖ",airplane:"‚úàÔ∏è",email:"‚úâÔ∏è",envelope:"‚úâÔ∏è",black_nib:"‚úíÔ∏è",heavy_check_mark:"‚úîÔ∏è",heavy_multiplication_x:"‚úñÔ∏è",star_of_david:"‚ú°",sparkles:"‚ú®",eight_spoked_asterisk:"‚ú≥Ô∏è",eight_pointed_black_star:"‚ú¥Ô∏è",snowflake:"‚ùÑÔ∏è",sparkle:"‚ùáÔ∏è",question:"‚ùì",grey_question:"‚ùî",grey_exclamation:"‚ùï",exclamation:"‚ùóÔ∏è",heavy_exclamation_mark:"‚ùóÔ∏è",heavy_heart_exclamation_mark_ornament:"‚ù£",heart:"‚ù§Ô∏è",heavy_plus_sign:"‚ûï",heavy_minus_sign:"‚ûñ",heavy_division_sign:"‚ûó",arrow_heading_up:"‚§¥Ô∏è",arrow_heading_down:"‚§µÔ∏è",wavy_dash:"„Ä∞Ô∏è",congratulations:"„äóÔ∏è",secret:"„äôÔ∏è",copyright:"¬©Ô∏è",registered:"¬ÆÔ∏è",bangbang:"‚ÄºÔ∏è",leftwards_arrow_with_hook:"‚Ü©Ô∏è",arrow_right_hook:"‚Ü™Ô∏è",watch:"‚åöÔ∏è",hourglass:"‚åõÔ∏è",fast_forward:"‚è©",rewind:"‚è™",arrow_double_up:"‚è´",arrow_double_down:"‚è¨",black_right_pointing_double_triangle_with_vertical_bar:"‚è≠",black_left_pointing_double_triangle_with_vertical_bar:"‚èÆ",black_right_pointing_triangle_with_double_vertical_bar:"‚èØ",alarm_clock:"‚è∞",stopwatch:"‚è±",timer_clock:"‚è≤",hourglass_flowing_sand:"‚è≥",double_vertical_bar:"‚è∏",black_square_for_stop:"‚èπ",black_circle_for_record:"‚è∫",m:"‚ìÇÔ∏è",black_small_square:"‚ñ™Ô∏è",white_small_square:"‚ñ´Ô∏è",arrow_forward:"‚ñ∂Ô∏è",arrow_backward:"‚óÄÔ∏è",white_medium_square:"‚óªÔ∏è",black_medium_square:"‚óºÔ∏è",white_medium_small_square:"‚óΩÔ∏è",black_medium_small_square:"‚óæÔ∏è",phone:"‚òéÔ∏è",telephone:"‚òéÔ∏è",point_up:"‚òùÔ∏è",star_and_crescent:"‚ò™",peace_symbol:"‚òÆ",yin_yang:"‚òØ",relaxed:"‚ò∫Ô∏è",gemini:"‚ôäÔ∏è",cancer:"‚ôãÔ∏è",leo:"‚ôåÔ∏è",virgo:"‚ôçÔ∏è",libra:"‚ôéÔ∏è",scorpius:"‚ôèÔ∏è",recycle:"‚ôªÔ∏è",wheelchair:"‚ôøÔ∏è",atom_symbol:"‚öõ",fleur_de_lis:"‚öú",warning:"‚ö†Ô∏è",zap:"‚ö°Ô∏è",white_circle:"‚ö™Ô∏è",black_circle:"‚ö´Ô∏è",coffin:"‚ö∞",funeral_urn:"‚ö±",soccer:"‚öΩÔ∏è",baseball:"‚öæÔ∏è",snowman:"‚õÑÔ∏è",partly_sunny:"‚õÖÔ∏è",thunder_cloud_and_rain:"‚õà",ophiuchus:"‚õé",pick:"‚õè",helmet_with_white_cross:"‚õë",chains:"‚õì",no_entry:"‚õîÔ∏è",shinto_shrine:"‚õ©",church:"‚õ™Ô∏è",mountain:"‚õ∞",umbrella_on_ground:"‚õ±",fountain:"‚õ≤Ô∏è",golf:"‚õ≥Ô∏è",ferry:"‚õ¥",boat:"‚õµÔ∏è",sailboat:"‚õµÔ∏è",skier:"‚õ∑",ice_skate:"‚õ∏",person_with_ball:"‚õπ",tent:"‚õ∫Ô∏è",fuelpump:"‚õΩÔ∏è",fist:"‚úä",hand:"‚úã",raised_hand:"‚úã",v:"‚úåÔ∏è",writing_hand:"‚úç",pencil2:"‚úèÔ∏è",latin_cross:"‚úù",x:"‚ùå",negative_squared_cross_mark:"‚ùé",arrow_right:"‚û°Ô∏è",curly_loop:"‚û∞",loop:"‚ûø",arrow_left:"‚¨ÖÔ∏è",arrow_up:"‚¨ÜÔ∏è",arrow_down:"‚¨áÔ∏è",black_large_square:"‚¨õÔ∏è",white_large_square:"‚¨úÔ∏è",star:"‚≠êÔ∏è",o:"‚≠ïÔ∏è",part_alternation_mark:"„ÄΩÔ∏è",mahjong:"üÄÑÔ∏è",black_joker:"üÉè",a:"üÖ∞Ô∏è",b:"üÖ±Ô∏è",o2:"üÖæÔ∏è",parking:"üÖøÔ∏è",ab:"üÜé",cl:"üÜë",cool:"üÜí",free:"üÜì",id:"üÜî",new:"üÜï",ng:"üÜñ",ok:"üÜó",sos:"üÜò",up:"üÜô",vs:"üÜö",koko:"üàÅ",sa:"üàÇÔ∏è",u7121:"üàöÔ∏è",u6307:"üàØÔ∏è",u7981:"üà≤",u7a7a:"üà≥",u5408:"üà¥",u6e80:"üàµ",u6709:"üà∂",u6708:"üà∑Ô∏è",u7533:"üà∏",u5272:"üàπ",u55b6:"üà∫",ideograph_advantage:"üâê",accept:"üâë",cyclone:"üåÄ",foggy:"üåÅ",closed_umbrella:"üåÇ",night_with_stars:"üåÉ",sunrise_over_mountains:"üåÑ",sunrise:"üåÖ",city_sunset:"üåÜ",city_sunrise:"üåá",rainbow:"üåà",bridge_at_night:"üåâ",ocean:"üåä",volcano:"üåã",milky_way:"üåå",earth_africa:"üåç",earth_americas:"üåé",earth_asia:"üåè",globe_with_meridians:"üåê",new_moon:"üåë",waxing_crescent_moon:"üåí",first_quarter_moon:"üåì",moon:"üåî",waxing_gibbous_moon:"üåî",full_moon:"üåï",waning_gibbous_moon:"üåñ",last_quarter_moon:"üåó",waning_crescent_moon:"üåò",crescent_moon:"üåô",new_moon_with_face:"üåö",first_quarter_moon_with_face:"üåõ",last_quarter_moon_with_face:"üåú",full_moon_with_face:"üåù",sun_with_face:"üåû",star2:"üåü",stars:"üå†",thermometer:"üå°",mostly_sunny:"üå§",sun_small_cloud:"üå§",barely_sunny:"üå•",sun_behind_cloud:"üå•",partly_sunny_rain:"üå¶",sun_behind_rain_cloud:"üå¶",rain_cloud:"üåß",snow_cloud:"üå®",lightning:"üå©",lightning_cloud:"üå©",tornado:"üå™",tornado_cloud:"üå™",fog:"üå´",wind_blowing_face:"üå¨",hotdog:"üå≠",taco:"üåÆ",burrito:"üåØ",chestnut:"üå∞",seedling:"üå±",evergreen_tree:"üå≤",deciduous_tree:"üå≥",palm_tree:"üå¥",cactus:"üåµ",hot_pepper:"üå∂",tulip:"üå∑",cherry_blossom:"üå∏",rose:"üåπ",hibiscus:"üå∫",sunflower:"üåª",blossom:"üåº",corn:"üåΩ",ear_of_rice:"üåæ",herb:"üåø",four_leaf_clover:"üçÄ",maple_leaf:"üçÅ",fallen_leaf:"üçÇ",leaves:"üçÉ",mushroom:"üçÑ",tomato:"üçÖ",eggplant:"üçÜ",grapes:"üçá",melon:"üçà",watermelon:"üçâ",tangerine:"üçä",lemon:"üçã",banana:"üçå",pineapple:"üçç",apple:"üçé",green_apple:"üçè",pear:"üçê",peach:"üçë",cherries:"üçí",strawberry:"üçì",hamburger:"üçî",pizza:"üçï",meat_on_bone:"üçñ",poultry_leg:"üçó",rice_cracker:"üçò",rice_ball:"üçô",rice:"üçö",curry:"üçõ",ramen:"üçú",spaghetti:"üçù",bread:"üçû",fries:"üçü",sweet_potato:"üç†",dango:"üç°",oden:"üç¢",sushi:"üç£",fried_shrimp:"üç§",fish_cake:"üç•",icecream:"üç¶",shaved_ice:"üçß",ice_cream:"üç®",doughnut:"üç©",cookie:"üç™",chocolate_bar:"üç´",candy:"üç¨",lollipop:"üç≠",custard:"üçÆ",honey_pot:"üçØ",cake:"üç∞",bento:"üç±",stew:"üç≤",egg:"üç≥",fork_and_knife:"üç¥",tea:"üçµ",sake:"üç∂",wine_glass:"üç∑",cocktail:"üç∏",tropical_drink:"üçπ",beer:"üç∫",beers:"üçª",baby_bottle:"üçº",knife_fork_plate:"üçΩ",champagne:"üçæ",popcorn:"üçø",ribbon:"üéÄ",gift:"üéÅ",birthday:"üéÇ",jack_o_lantern:"üéÉ",christmas_tree:"üéÑ",santa:"üéÖ",fireworks:"üéÜ",sparkler:"üéá",balloon:"üéà",tada:"üéâ",confetti_ball:"üéä",tanabata_tree:"üéã",crossed_flags:"üéå",bamboo:"üéç",dolls:"üéé",flags:"üéè",wind_chime:"üéê",rice_scene:"üéë",school_satchel:"üéí",mortar_board:"üéì",medal:"üéñ",reminder_ribbon:"üéó",studio_microphone:"üéô",level_slider:"üéö",control_knobs:"üéõ",film_frames:"üéû",admission_tickets:"üéü",carousel_horse:"üé†",ferris_wheel:"üé°",roller_coaster:"üé¢",fishing_pole_and_fish:"üé£",microphone:"üé§",movie_camera:"üé•",cinema:"üé¶",headphones:"üéß",art:"üé®",tophat:"üé©",circus_tent:"üé™",ticket:"üé´",clapper:"üé¨",performing_arts:"üé≠",video_game:"üéÆ",dart:"üéØ",slot_machine:"üé∞","8ball":"üé±",game_die:"üé≤",bowling:"üé≥",flower_playing_cards:"üé¥",musical_note:"üéµ",notes:"üé∂",saxophone:"üé∑",guitar:"üé∏",musical_keyboard:"üéπ",trumpet:"üé∫",violin:"üéª",musical_score:"üéº",running_shirt_with_sash:"üéΩ",tennis:"üéæ",ski:"üéø",basketball:"üèÄ",checkered_flag:"üèÅ",snowboarder:"üèÇ",runner:"üèÉ",running:"üèÉ",surfer:"üèÑ",sports_medal:"üèÖ",trophy:"üèÜ",horse_racing:"üèá",football:"üèà",rugby_football:"üèâ",swimmer:"üèä",weight_lifter:"üèã",golfer:"üèå",racing_motorcycle:"üèç",racing_car:"üèé",cricket_bat_and_ball:"üèè",volleyball:"üèê",field_hockey_stick_and_ball:"üèë",ice_hockey_stick_and_puck:"üèí",table_tennis_paddle_and_ball:"üèì",snow_capped_mountain:"üèî",camping:"üèï",beach_with_umbrella:"üèñ",building_construction:"üèó",house_buildings:"üèò",cityscape:"üèô",derelict_house_building:"üèö",classical_building:"üèõ",desert:"üèú",desert_island:"üèù",national_park:"üèû",stadium:"üèü",house:"üè†",house_with_garden:"üè°",office:"üè¢",post_office:"üè£",european_post_office:"üè§",hospital:"üè•",bank:"üè¶",atm:"üèß",hotel:"üè®",love_hotel:"üè©",convenience_store:"üè™",school:"üè´",department_store:"üè¨",factory:"üè≠",izakaya_lantern:"üèÆ",lantern:"üèÆ",japanese_castle:"üèØ",european_castle:"üè∞",waving_white_flag:"üè≥",waving_black_flag:"üè¥",rosette:"üèµ",label:"üè∑",badminton_racquet_and_shuttlecock:"üè∏",bow_and_arrow:"üèπ",amphora:"üè∫","skin-tone-2":"üèª","skin-tone-3":"üèº","skin-tone-4":"üèΩ","skin-tone-5":"üèæ","skin-tone-6":"üèø",rat:"üêÄ",mouse2:"üêÅ",ox:"üêÇ",water_buffalo:"üêÉ",cow2:"üêÑ",tiger2:"üêÖ",leopard:"üêÜ",rabbit2:"üêá",cat2:"üêà",dragon:"üêâ",crocodile:"üêä",whale2:"üêã",snail:"üêå",snake:"üêç",racehorse:"üêé",ram:"üêè",goat:"üêê",sheep:"üêë",monkey:"üêí",rooster:"üêì",chicken:"üêî",dog2:"üêï",pig2:"üêñ",boar:"üêó",elephant:"üêò",octopus:"üêô",shell:"üêö",bug:"üêõ",ant:"üêú",bee:"üêù",honeybee:"üêù",beetle:"üêû",fish:"üêü",tropical_fish:"üê†",blowfish:"üê°",turtle:"üê¢",hatching_chick:"üê£",baby_chick:"üê§",hatched_chick:"üê•",bird:"üê¶",penguin:"üêß",koala:"üê®",poodle:"üê©",dromedary_camel:"üê™",camel:"üê´",dolphin:"üê¨",flipper:"üê¨",mouse:"üê≠",cow:"üêÆ",tiger:"üêØ",rabbit:"üê∞",cat:"üê±",dragon_face:"üê≤",whale:"üê≥",horse:"üê¥",monkey_face:"üêµ",dog:"üê∂",pig:"üê∑",frog:"üê∏",hamster:"üêπ",wolf:"üê∫",bear:"üêª",panda_face:"üêº",pig_nose:"üêΩ",feet:"üêæ",paw_prints:"üêæ",chipmunk:"üêø",eyes:"üëÄ",eye:"üëÅ",ear:"üëÇ",nose:"üëÉ",lips:"üëÑ",tongue:"üëÖ",point_up_2:"üëÜ",point_down:"üëá",point_left:"üëà",point_right:"üëâ",facepunch:"üëä",punch:"üëä",wave:"üëã",ok_hand:"üëå","+1":"üëç",thumbsup:"üëç","-1":"üëé",thumbsdown:"üëé",clap:"üëè",open_hands:"üëê",crown:"üëë",womans_hat:"üëí",eyeglasses:"üëì",necktie:"üëî",shirt:"üëï",tshirt:"üëï",jeans:"üëñ",dress:"üëó",kimono:"üëò",bikini:"üëô",womans_clothes:"üëö",purse:"üëõ",handbag:"üëú",pouch:"üëù",mans_shoe:"üëû",shoe:"üëû",athletic_shoe:"üëü",high_heel:"üë†",sandal:"üë°",boot:"üë¢",footprints:"üë£",bust_in_silhouette:"üë§",busts_in_silhouette:"üë•",boy:"üë¶",girl:"üëß",man:"üë®",woman:"üë©",family:"üë®‚Äçüë©‚Äçüë¶","man-woman-boy":"üë®‚Äçüë©‚Äçüë¶",couple:"üë´",man_and_woman_holding_hands:"üë´",two_men_holding_hands:"üë¨",two_women_holding_hands:"üë≠",cop:"üëÆ",dancers:"üëØ",bride_with_veil:"üë∞",person_with_blond_hair:"üë±",man_with_gua_pi_mao:"üë≤",man_with_turban:"üë≥",older_man:"üë¥",older_woman:"üëµ",baby:"üë∂",construction_worker:"üë∑",princess:"üë∏",japanese_ogre:"üëπ",japanese_goblin:"üë∫",ghost:"üëª",angel:"üëº",alien:"üëΩ",space_invader:"üëæ",imp:"üëø",skull:"üíÄ",information_desk_person:"üíÅ",guardsman:"üíÇ",dancer:"üíÉ",lipstick:"üíÑ",nail_care:"üíÖ",massage:"üíÜ",haircut:"üíá",barber:"üíà",syringe:"üíâ",pill:"üíä",kiss:"üíã",love_letter:"üíå",ring:"üíç",gem:"üíé",couplekiss:"üíè",bouquet:"üíê",couple_with_heart:"üíë",wedding:"üíí",heartbeat:"üíì",broken_heart:"üíî",two_hearts:"üíï",sparkling_heart:"üíñ",heartpulse:"üíó",cupid:"üíò",blue_heart:"üíô",green_heart:"üíö",yellow_heart:"üíõ",purple_heart:"üíú",gift_heart:"üíù",revolving_hearts:"üíû",heart_decoration:"üíü",diamond_shape_with_a_dot_inside:"üí†",bulb:"üí°",anger:"üí¢",bomb:"üí£",zzz:"üí§",boom:"üí•",collision:"üí•",sweat_drops:"üí¶",droplet:"üíß",dash:"üí®",hankey:"üí©",poop:"üí©",shit:"üí©",muscle:"üí™",dizzy:"üí´",speech_balloon:"üí¨",thought_balloon:"üí≠",white_flower:"üíÆ",moneybag:"üí∞",currency_exchange:"üí±",heavy_dollar_sign:"üí≤",credit_card:"üí≥",yen:"üí¥",dollar:"üíµ",euro:"üí∂",pound:"üí∑",money_with_wings:"üí∏",chart:"üíπ",seat:"üí∫",computer:"üíª",briefcase:"üíº",minidisc:"üíΩ",floppy_disk:"üíæ",cd:"üíø",dvd:"üìÄ",file_folder:"üìÅ",open_file_folder:"üìÇ",page_with_curl:"üìÉ",page_facing_up:"üìÑ",date:"üìÖ",calendar:"üìÜ",card_index:"üìá",chart_with_upwards_trend:"üìà",chart_with_downwards_trend:"üìâ",bar_chart:"üìä",clipboard:"üìã",pushpin:"üìå",round_pushpin:"üìç",paperclip:"üìé",straight_ruler:"üìè",triangular_ruler:"üìê",bookmark_tabs:"üìë",ledger:"üìí",notebook:"üìì",notebook_with_decorative_cover:"üìî",closed_book:"üìï",book:"üìñ",open_book:"üìñ",green_book:"üìó",blue_book:"üìò",orange_book:"üìô",books:"üìö",name_badge:"üìõ",scroll:"üìú",memo:"üìù",pencil:"üìù",telephone_receiver:"üìû",pager:"üìü",fax:"üì†",satellite:"üõ∞",loudspeaker:"üì¢",mega:"üì£",outbox_tray:"üì§",inbox_tray:"üì•",package:"üì¶","e-mail":"üìß",incoming_envelope:"üì®",envelope_with_arrow:"üì©",mailbox_closed:"üì™",mailbox:"üì´",mailbox_with_mail:"üì¨",mailbox_with_no_mail:"üì≠",postbox:"üìÆ",postal_horn:"üìØ",newspaper:"üì∞",iphone:"üì±",calling:"üì≤",vibration_mode:"üì≥",mobile_phone_off:"üì¥",no_mobile_phones:"üìµ",signal_strength:"üì∂",camera:"üì∑",camera_with_flash:"üì∏",video_camera:"üìπ",tv:"üì∫",radio:"üìª",vhs:"üìº",film_projector:"üìΩ",prayer_beads:"üìø",twisted_rightwards_arrows:"üîÄ",repeat:"üîÅ",repeat_one:"üîÇ",arrows_clockwise:"üîÉ",arrows_counterclockwise:"üîÑ",low_brightness:"üîÖ",high_brightness:"üîÜ",mute:"üîá",speaker:"üîà",sound:"üîâ",loud_sound:"üîä",battery:"üîã",electric_plug:"üîå",mag:"üîç",mag_right:"üîé",lock_with_ink_pen:"üîè",closed_lock_with_key:"üîê",key:"üîë",lock:"üîí",unlock:"üîì",bell:"üîî",no_bell:"üîï",bookmark:"üîñ",link:"üîó",radio_button:"üîò",back:"üîô",end:"üîö",on:"üîõ",soon:"üîú",top:"üîù",underage:"üîû",keycap_ten:"üîü",capital_abcd:"üî†",abcd:"üî°",symbols:"üî£",abc:"üî§",fire:"üî•",flashlight:"üî¶",wrench:"üîß",hammer:"üî®",nut_and_bolt:"üî©",hocho:"üî™",knife:"üî™",gun:"üî´",microscope:"üî¨",telescope:"üî≠",crystal_ball:"üîÆ",six_pointed_star:"üîØ",beginner:"üî∞",trident:"üî±",black_square_button:"üî≤",white_square_button:"üî≥",red_circle:"üî¥",large_blue_circle:"üîµ",large_orange_diamond:"üî∂",large_blue_diamond:"üî∑",small_orange_diamond:"üî∏",small_blue_diamond:"üîπ",small_red_triangle:"üî∫",small_red_triangle_down:"üîª",arrow_up_small:"üîº",arrow_down_small:"üîΩ",om_symbol:"üïâ",dove_of_peace:"üïä",kaaba:"üïã",mosque:"üïå",synagogue:"üïç",menorah_with_nine_branches:"üïé",clock1:"üïê",clock2:"üïë",clock3:"üïí",clock4:"üïì",clock5:"üïî",clock6:"üïï",clock7:"üïñ",clock8:"üïó",clock9:"üïò",clock10:"üïô",clock11:"üïö",clock12:"üïõ",clock130:"üïú",clock230:"üïù",clock330:"üïû",clock430:"üïü",clock530:"üï†",clock630:"üï°",clock730:"üï¢",clock830:"üï£",clock930:"üï§",clock1030:"üï•",clock1130:"üï¶",clock1230:"üïß",candle:"üïØ",mantelpiece_clock:"üï∞",hole:"üï≥",man_in_business_suit_levitating:"üï¥",sleuth_or_spy:"üïµ",dark_sunglasses:"üï∂",spider:"üï∑",spider_web:"üï∏",joystick:"üïπ",linked_paperclips:"üñá",lower_left_ballpoint_pen:"üñä",lower_left_fountain_pen:"üñã",lower_left_paintbrush:"üñå",lower_left_crayon:"üñç",raised_hand_with_fingers_splayed:"üñê",middle_finger:"üñï",reversed_hand_with_middle_finger_extended:"üñï","spock-hand":"üññ",desktop_computer:"üñ•",printer:"üñ®",three_button_mouse:"üñ±",trackball:"üñ≤",frame_with_picture:"üñº",card_index_dividers:"üóÇ",card_file_box:"üóÉ",file_cabinet:"üóÑ",wastebasket:"üóë",spiral_note_pad:"üóí",spiral_calendar_pad:"üóì",compression:"üóú",old_key:"üóù",rolled_up_newspaper:"üóû",dagger_knife:"üó°",speaking_head_in_silhouette:"üó£",left_speech_bubble:"üó®",right_anger_bubble:"üóØ",ballot_box_with_ballot:"üó≥",world_map:"üó∫",mount_fuji:"üóª",tokyo_tower:"üóº",statue_of_liberty:"üóΩ",japan:"üóæ",moyai:"üóø",grinning:"üòÄ",grin:"üòÅ",joy:"üòÇ",smiley:"üòÉ",smile:"üòÑ",sweat_smile:"üòÖ",laughing:"üòÜ",satisfied:"üòÜ",innocent:"üòá",smiling_imp:"üòà",wink:"üòâ",blush:"üòä",yum:"üòã",relieved:"üòå",heart_eyes:"üòç",sunglasses:"üòé",smirk:"üòè",neutral_face:"üòê",expressionless:"üòë",unamused:"üòí",sweat:"üòì",pensive:"üòî",confused:"üòï",confounded:"üòñ",kissing:"üòó",kissing_heart:"üòò",kissing_smiling_eyes:"üòô",kissing_closed_eyes:"üòö",stuck_out_tongue:"üòõ",stuck_out_tongue_winking_eye:"üòú",stuck_out_tongue_closed_eyes:"üòù",disappointed:"üòû",worried:"üòü",angry:"üò†",rage:"üò°",cry:"üò¢",persevere:"üò£",triumph:"üò§",disappointed_relieved:"üò•",frowning:"üò¶",anguished:"üòß",fearful:"üò®",weary:"üò©",sleepy:"üò™",tired_face:"üò´",grimacing:"üò¨",sob:"üò≠",open_mouth:"üòÆ",hushed:"üòØ",cold_sweat:"üò∞",scream:"üò±",astonished:"üò≤",flushed:"üò≥",sleeping:"üò¥",dizzy_face:"üòµ",no_mouth:"üò∂",mask:"üò∑",smile_cat:"üò∏",joy_cat:"üòπ",smiley_cat:"üò∫",heart_eyes_cat:"üòª",smirk_cat:"üòº",kissing_cat:"üòΩ",pouting_cat:"üòæ",crying_cat_face:"üòø",scream_cat:"üôÄ",slightly_frowning_face:"üôÅ",slightly_smiling_face:"üôÇ",upside_down_face:"üôÉ",face_with_rolling_eyes:"üôÑ",no_good:"üôÖ",ok_woman:"üôÜ",bow:"üôá",see_no_evil:"üôà",hear_no_evil:"üôâ",speak_no_evil:"üôä",raising_hand:"üôã",raised_hands:"üôå",person_frowning:"üôç",person_with_pouting_face:"üôé",pray:"üôè",rocket:"üöÄ",helicopter:"üöÅ",steam_locomotive:"üöÇ",railway_car:"üöÉ",bullettrain_side:"üöÑ",bullettrain_front:"üöÖ",train2:"üöÜ",metro:"üöá",light_rail:"üöà",station:"üöâ",tram:"üöä",train:"üöã",bus:"üöå",oncoming_bus:"üöç",trolleybus:"üöé",busstop:"üöè",minibus:"üöê",ambulance:"üöë",fire_engine:"üöí",police_car:"üöì",oncoming_police_car:"üöî",taxi:"üöï",oncoming_taxi:"üöñ",car:"üöó",red_car:"üöó",oncoming_automobile:"üöò",blue_car:"üöô",truck:"üöö",articulated_lorry:"üöõ",tractor:"üöú",monorail:"üöù",mountain_railway:"üöû",suspension_railway:"üöü",mountain_cableway:"üö†",aerial_tramway:"üö°",ship:"üö¢",rowboat:"üö£",speedboat:"üö§",traffic_light:"üö•",vertical_traffic_light:"üö¶",construction:"üöß",rotating_light:"üö®",triangular_flag_on_post:"üö©",door:"üö™",no_entry_sign:"üö´",smoking:"üö¨",no_smoking:"üö≠",put_litter_in_its_place:"üöÆ",do_not_litter:"üöØ",potable_water:"üö∞","non-potable_water":"üö±",bike:"üö≤",no_bicycles:"üö≥",bicyclist:"üö¥",mountain_bicyclist:"üöµ",walking:"üö∂",no_pedestrians:"üö∑",children_crossing:"üö∏",mens:"üöπ",womens:"üö∫",restroom:"üöª",baby_symbol:"üöº",toilet:"üöΩ",wc:"üöæ",shower:"üöø",bath:"üõÄ",bathtub:"üõÅ",passport_control:"üõÇ",customs:"üõÉ",baggage_claim:"üõÑ",left_luggage:"üõÖ",couch_and_lamp:"üõã",sleeping_accommodation:"üõå",shopping_bags:"üõç",bellhop_bell:"üõé",bed:"üõè",place_of_worship:"üõê",hammer_and_wrench:"üõ†",shield:"üõ°",oil_drum:"üõ¢",motorway:"üõ£",railway_track:"üõ§",motor_boat:"üõ•",small_airplane:"üõ©",airplane_departure:"üõ´",airplane_arriving:"üõ¨",passenger_ship:"üõ≥",zipper_mouth_face:"ü§ê",money_mouth_face:"ü§ë",face_with_thermometer:"ü§í",nerd_face:"ü§ì",thinking_face:"ü§î",face_with_head_bandage:"ü§ï",robot_face:"ü§ñ",hugging_face:"ü§ó",the_horns:"ü§ò",sign_of_the_horns:"ü§ò",crab:"ü¶Ä",lion_face:"ü¶Å",scorpion:"ü¶Ç",turkey:"ü¶É",unicorn_face:"ü¶Ñ",cheese_wedge:"üßÄ",hash:"#Ô∏è‚É£",keycap_star:"*‚É£",zero:"0Ô∏è‚É£",one:"1Ô∏è‚É£",two:"2Ô∏è‚É£",three:"3Ô∏è‚É£",four:"4Ô∏è‚É£",five:"5Ô∏è‚É£",six:"6Ô∏è‚É£",seven:"7Ô∏è‚É£",eight:"8Ô∏è‚É£",nine:"9Ô∏è‚É£","flag-ac":"üá¶üá®","flag-ad":"üá¶üá©","flag-ae":"üá¶üá™","flag-af":"üá¶üá´","flag-ag":"üá¶üá¨","flag-ai":"üá¶üáÆ","flag-al":"üá¶üá±","flag-am":"üá¶üá≤","flag-ao":"üá¶üá¥","flag-aq":"üá¶üá∂","flag-ar":"üá¶üá∑","flag-as":"üá¶üá∏","flag-at":"üá¶üáπ","flag-au":"üá¶üá∫","flag-aw":"üá¶üáº","flag-ax":"üá¶üáΩ","flag-az":"üá¶üáø","flag-ba":"üáßüá¶","flag-bb":"üáßüáß","flag-bd":"üáßüá©","flag-be":"üáßüá™","flag-bf":"üáßüá´","flag-bg":"üáßüá¨","flag-bh":"üáßüá≠","flag-bi":"üáßüáÆ","flag-bj":"üáßüáØ","flag-bl":"üáßüá±","flag-bm":"üáßüá≤","flag-bn":"üáßüá≥","flag-bo":"üáßüá¥","flag-bq":"üáßüá∂","flag-br":"üáßüá∑","flag-bs":"üáßüá∏","flag-bt":"üáßüáπ","flag-bv":"üáßüáª","flag-bw":"üáßüáº","flag-by":"üáßüáæ","flag-bz":"üáßüáø","flag-ca":"üá®üá¶","flag-cc":"üá®üá®","flag-cd":"üá®üá©","flag-cf":"üá®üá´","flag-cg":"üá®üá¨","flag-ch":"üá®üá≠","flag-ci":"üá®üáÆ","flag-ck":"üá®üá∞","flag-cl":"üá®üá±","flag-cm":"üá®üá≤","flag-cn":"üá®üá≥",cn:"üá®üá≥","flag-co":"üá®üá¥","flag-cp":"üá®üáµ","flag-cr":"üá®üá∑","flag-cu":"üá®üá∫","flag-cv":"üá®üáª","flag-cw":"üá®üáº","flag-cx":"üá®üáΩ","flag-cy":"üá®üáæ","flag-cz":"üá®üáø","flag-de":"üá©üá™",de:"üá©üá™","flag-dg":"üá©üá¨","flag-dj":"üá©üáØ","flag-dk":"üá©üá∞","flag-dm":"üá©üá≤","flag-do":"üá©üá¥","flag-dz":"üá©üáø","flag-ea":"üá™üá¶","flag-ec":"üá™üá®","flag-ee":"üá™üá™","flag-eg":"üá™üá¨","flag-eh":"üá™üá≠","flag-er":"üá™üá∑","flag-es":"üá™üá∏",es:"üá™üá∏","flag-et":"üá™üáπ","flag-eu":"üá™üá∫","flag-fi":"üá´üáÆ","flag-fj":"üá´üáØ","flag-fk":"üá´üá∞","flag-fm":"üá´üá≤","flag-fo":"üá´üá¥","flag-fr":"üá´üá∑",fr:"üá´üá∑","flag-ga":"üá¨üá¶","flag-gb":"üá¨üáß",gb:"üá¨üáß",uk:"üá¨üáß","flag-gd":"üá¨üá©","flag-ge":"üá¨üá™","flag-gf":"üá¨üá´","flag-gg":"üá¨üá¨","flag-gh":"üá¨üá≠","flag-gi":"üá¨üáÆ","flag-gl":"üá¨üá±","flag-gm":"üá¨üá≤","flag-gn":"üá¨üá≥","flag-gp":"üá¨üáµ","flag-gq":"üá¨üá∂","flag-gr":"üá¨üá∑","flag-gs":"üá¨üá∏","flag-gt":"üá¨üáπ","flag-gu":"üá¨üá∫","flag-gw":"üá¨üáº","flag-gy":"üá¨üáæ","flag-hk":"üá≠üá∞","flag-hm":"üá≠üá≤","flag-hn":"üá≠üá≥","flag-hr":"üá≠üá∑","flag-ht":"üá≠üáπ","flag-hu":"üá≠üá∫","flag-ic":"üáÆüá®","flag-id":"üáÆüá©","flag-ie":"üáÆüá™","flag-il":"üáÆüá±","flag-im":"üáÆüá≤","flag-in":"üáÆüá≥","flag-io":"üáÆüá¥","flag-iq":"üáÆüá∂","flag-ir":"üáÆüá∑","flag-is":"üáÆüá∏","flag-it":"üáÆüáπ",it:"üáÆüáπ","flag-je":"üáØüá™","flag-jm":"üáØüá≤","flag-jo":"üáØüá¥","flag-jp":"üáØüáµ",jp:"üáØüáµ","flag-ke":"üá∞üá™","flag-kg":"üá∞üá¨","flag-kh":"üá∞üá≠","flag-ki":"üá∞üáÆ","flag-km":"üá∞üá≤","flag-kn":"üá∞üá≥","flag-kp":"üá∞üáµ","flag-kr":"üá∞üá∑",kr:"üá∞üá∑","flag-kw":"üá∞üáº","flag-ky":"üá∞üáæ","flag-kz":"üá∞üáø","flag-la":"üá±üá¶","flag-lb":"üá±üáß","flag-lc":"üá±üá®","flag-li":"üá±üáÆ","flag-lk":"üá±üá∞","flag-lr":"üá±üá∑","flag-ls":"üá±üá∏","flag-lt":"üá±üáπ","flag-lu":"üá±üá∫","flag-lv":"üá±üáª","flag-ly":"üá±üáæ","flag-ma":"üá≤üá¶","flag-mc":"üá≤üá®","flag-md":"üá≤üá©","flag-me":"üá≤üá™","flag-mf":"üá≤üá´","flag-mg":"üá≤üá¨","flag-mh":"üá≤üá≠","flag-mk":"üá≤üá∞","flag-ml":"üá≤üá±","flag-mm":"üá≤üá≤","flag-mn":"üá≤üá≥","flag-mo":"üá≤üá¥","flag-mp":"üá≤üáµ","flag-mq":"üá≤üá∂","flag-mr":"üá≤üá∑","flag-ms":"üá≤üá∏","flag-mt":"üá≤üáπ","flag-mu":"üá≤üá∫","flag-mv":"üá≤üáª","flag-mw":"üá≤üáº","flag-mx":"üá≤üáΩ","flag-my":"üá≤üáæ","flag-mz":"üá≤üáø","flag-na":"üá≥üá¶","flag-nc":"üá≥üá®","flag-ne":"üá≥üá™","flag-nf":"üá≥üá´","flag-ng":"üá≥üá¨","flag-ni":"üá≥üáÆ","flag-nl":"üá≥üá±","flag-no":"üá≥üá¥","flag-np":"üá≥üáµ","flag-nr":"üá≥üá∑","flag-nu":"üá≥üá∫","flag-nz":"üá≥üáø","flag-om":"üá¥üá≤","flag-pa":"üáµüá¶","flag-pe":"üáµüá™","flag-pf":"üáµüá´","flag-pg":"üáµüá¨","flag-ph":"üáµüá≠","flag-pk":"üáµüá∞","flag-pl":"üáµüá±","flag-pm":"üáµüá≤","flag-pn":"üáµüá≥","flag-pr":"üáµüá∑","flag-ps":"üáµüá∏","flag-pt":"üáµüáπ","flag-pw":"üáµüáº","flag-py":"üáµüáæ","flag-qa":"üá∂üá¶","flag-re":"üá∑üá™","flag-ro":"üá∑üá¥","flag-rs":"üá∑üá∏","flag-ru":"üá∑üá∫",ru:"üá∑üá∫","flag-rw":"üá∑üáº","flag-sa":"üá∏üá¶","flag-sb":"üá∏üáß","flag-sc":"üá∏üá®","flag-sd":"üá∏üá©","flag-se":"üá∏üá™","flag-sg":"üá∏üá¨","flag-sh":"üá∏üá≠","flag-si":"üá∏üáÆ","flag-sj":"üá∏üáØ","flag-sk":"üá∏üá∞","flag-sl":"üá∏üá±","flag-sm":"üá∏üá≤","flag-sn":"üá∏üá≥","flag-so":"üá∏üá¥","flag-sr":"üá∏üá∑","flag-ss":"üá∏üá∏","flag-st":"üá∏üáπ","flag-sv":"üá∏üáª","flag-sx":"üá∏üáΩ","flag-sy":"üá∏üáæ","flag-sz":"üá∏üáø","flag-ta":"üáπüá¶","flag-tc":"üáπüá®","flag-td":"üáπüá©","flag-tf":"üáπüá´","flag-tg":"üáπüá¨","flag-th":"üáπüá≠","flag-tj":"üáπüáØ","flag-tk":"üáπüá∞","flag-tl":"üáπüá±","flag-tm":"üáπüá≤","flag-tn":"üáπüá≥","flag-to":"üáπüá¥","flag-tr":"üáπüá∑","flag-tt":"üáπüáπ","flag-tv":"üáπüáª","flag-tw":"üáπüáº","flag-tz":"üáπüáø","flag-ua":"üá∫üá¶","flag-ug":"üá∫üá¨","flag-um":"üá∫üá≤","flag-us":"üá∫üá∏",us:"üá∫üá∏","flag-uy":"üá∫üáæ","flag-uz":"üá∫üáø","flag-va":"üáªüá¶","flag-vc":"üáªüá®","flag-ve":"üáªüá™","flag-vg":"üáªüá¨","flag-vi":"üáªüáÆ","flag-vn":"üáªüá≥","flag-vu":"üáªüá∫","flag-wf":"üáºüá´","flag-ws":"üáºüá∏","flag-xk":"üáΩüá∞","flag-ye":"üáæüá™","flag-yt":"üáæüáπ","flag-za":"üáøüá¶","flag-zm":"üáøüá≤","flag-zw":"üáøüáº","man-man-boy":"üë®‚Äçüë®‚Äçüë¶","man-man-boy-boy":"üë®‚Äçüë®‚Äçüë¶‚Äçüë¶","man-man-girl":"üë®‚Äçüë®‚Äçüëß","man-man-girl-boy":"üë®‚Äçüë®‚Äçüëß‚Äçüë¶","man-man-girl-girl":"üë®‚Äçüë®‚Äçüëß‚Äçüëß","man-woman-boy-boy":"üë®‚Äçüë©‚Äçüë¶‚Äçüë¶","man-woman-girl":"üë®‚Äçüë©‚Äçüëß","man-woman-girl-boy":"üë®‚Äçüë©‚Äçüëß‚Äçüë¶","man-woman-girl-girl":"üë®‚Äçüë©‚Äçüëß‚Äçüëß","man-heart-man":"üë®‚Äç‚ù§Ô∏è‚Äçüë®","man-kiss-man":"üë®‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®","woman-woman-boy":"üë©‚Äçüë©‚Äçüë¶","woman-woman-boy-boy":"üë©‚Äçüë©‚Äçüë¶‚Äçüë¶","woman-woman-girl":"üë©‚Äçüë©‚Äçüëß","woman-woman-girl-boy":"üë©‚Äçüë©‚Äçüëß‚Äçüë¶","woman-woman-girl-girl":"üë©‚Äçüë©‚Äçüëß‚Äçüëß","woman-heart-woman":"üë©‚Äç‚ù§Ô∏è‚Äçüë©","woman-kiss-woman":"üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë©"},parser=/:([a-zA-Z0-9_\-\+]+):/g;return function(str){return str=(str=angular.isString(str)?str:angular.isUndefined(str)||null===str?"":Object.prototype.toString(str)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),$sce.trustAsHtml(str.split(parser).map(function(s,i){return i%2==0?s:function(emoji){return EMOJIS.hasOwnProperty(emoji)?$sce.trustAsHtml('<span class="emoji">'+EMOJIS[emoji]+"</span>"):":"+emoji+":"}(s)}).join(""))}});
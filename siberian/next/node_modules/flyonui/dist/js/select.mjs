var t={316:(t,e,i)=>{function s(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function n(t){return t instanceof s(t).Element||t instanceof Element}function o(t){return t instanceof s(t).HTMLElement||t instanceof HTMLElement}function r(t){return"undefined"!=typeof ShadowRoot&&(t instanceof s(t).ShadowRoot||t instanceof ShadowRoot)}i.d(e,{n4:()=>ft});var a=Math.max,l=Math.min,d=Math.round;function p(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function c(){return!/^((?!chrome|android).)*safari/i.test(p())}function h(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var r=t.getBoundingClientRect(),a=1,l=1;e&&o(t)&&(a=t.offsetWidth>0&&d(r.width)/t.offsetWidth||1,l=t.offsetHeight>0&&d(r.height)/t.offsetHeight||1);var p=(n(t)?s(t):window).visualViewport,h=!c()&&i,u=(r.left+(h&&p?p.offsetLeft:0))/a,f=(r.top+(h&&p?p.offsetTop:0))/l,g=r.width/a,v=r.height/l;return{width:g,height:v,top:f,right:u+g,bottom:f+v,left:u,x:u,y:f}}function u(t){var e=s(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function f(t){return t?(t.nodeName||"").toLowerCase():null}function g(t){return((n(t)?t.ownerDocument:t.document)||window.document).documentElement}function v(t){return h(g(t)).left+u(t).scrollLeft}function m(t){return s(t).getComputedStyle(t)}function w(t){var e=m(t),i=e.overflow,s=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+s)}function y(t,e,i){void 0===i&&(i=!1);var n,r,a=o(e),l=o(e)&&function(t){var e=t.getBoundingClientRect(),i=d(e.width)/t.offsetWidth||1,s=d(e.height)/t.offsetHeight||1;return 1!==i||1!==s}(e),p=g(e),c=h(t,l,i),m={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(a||!a&&!i)&&(("body"!==f(e)||w(p))&&(m=(n=e)!==s(n)&&o(n)?{scrollLeft:(r=n).scrollLeft,scrollTop:r.scrollTop}:u(n)),o(e)?((y=h(e,!0)).x+=e.clientLeft,y.y+=e.clientTop):p&&(y.x=v(p))),{x:c.left+m.scrollLeft-y.x,y:c.top+m.scrollTop-y.y,width:c.width,height:c.height}}function b(t){var e=h(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function I(t){return"html"===f(t)?t:t.assignedSlot||t.parentNode||(r(t)?t.host:null)||g(t)}function x(t){return["html","body","#document"].indexOf(f(t))>=0?t.ownerDocument.body:o(t)&&w(t)?t:x(I(t))}function S(t,e){var i;void 0===e&&(e=[]);var n=x(t),o=n===(null==(i=t.ownerDocument)?void 0:i.body),r=s(n),a=o?[r].concat(r.visualViewport||[],w(n)?n:[]):n,l=e.concat(a);return o?l:l.concat(S(I(a)))}function O(t){return["table","td","th"].indexOf(f(t))>=0}function T(t){return o(t)&&"fixed"!==m(t).position?t.offsetParent:null}function C(t){for(var e=s(t),i=T(t);i&&O(i)&&"static"===m(i).position;)i=T(i);return i&&("html"===f(i)||"body"===f(i)&&"static"===m(i).position)?e:i||function(t){var e=/firefox/i.test(p());if(/Trident/i.test(p())&&o(t)&&"fixed"===m(t).position)return null;var i=I(t);for(r(i)&&(i=i.host);o(i)&&["html","body"].indexOf(f(i))<0;){var s=m(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}(t)||e}var L="top",E="bottom",A="right",M="left",D="auto",P=[L,E,A,M],k="start",F="end",$="viewport",q="popper",W=P.reduce((function(t,e){return t.concat([e+"-"+k,e+"-"+F])}),[]),R=[].concat(P,[D]).reduce((function(t,e){return t.concat([e,e+"-"+k,e+"-"+F])}),[]),j=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(t){var e=new Map,i=new Set,s=[];function n(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!i.has(t)){var s=e.get(t);s&&n(s)}})),s.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||n(t)})),s}var N={placement:"bottom",modifiers:[],strategy:"absolute"};function V(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function B(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,s=void 0===i?[]:i,o=e.defaultOptions,r=void 0===o?N:o;return function(t,e,i){void 0===i&&(i=r);var o,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},N,r),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},d=[],p=!1,c={state:l,setOptions:function(i){var o="function"==typeof i?i(l.options):i;h(),l.options=Object.assign({},r,l.options,o),l.scrollParents={reference:n(t)?S(t):t.contextElement?S(t.contextElement):[],popper:S(e)};var a,p,u=function(t){var e=H(t);return j.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}((a=[].concat(s,l.options.modifiers),p=a.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{}),Object.keys(p).map((function(t){return p[t]}))));return l.orderedModifiers=u.filter((function(t){return t.enabled})),l.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,s=void 0===i?{}:i,n=t.effect;if("function"==typeof n){var o=n({state:l,name:e,instance:c,options:s}),r=function(){};d.push(o||r)}})),c.update()},forceUpdate:function(){if(!p){var t=l.elements,e=t.reference,i=t.popper;if(V(e,i)){l.rects={reference:y(e,C(i),"fixed"===l.options.strategy),popper:b(i)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(t){return l.modifiersData[t.name]=Object.assign({},t.data)}));for(var s=0;s<l.orderedModifiers.length;s++)if(!0!==l.reset){var n=l.orderedModifiers[s],o=n.fn,r=n.options,a=void 0===r?{}:r,d=n.name;"function"==typeof o&&(l=o({state:l,options:a,name:d,instance:c})||l)}else l.reset=!1,s=-1}}},update:(o=function(){return new Promise((function(t){c.forceUpdate(),t(l)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(o())}))}))),a}),destroy:function(){h(),p=!0}};if(!V(t,e))return c;function h(){d.forEach((function(t){return t()})),d=[]}return c.setOptions(i).then((function(t){!p&&i.onFirstUpdate&&i.onFirstUpdate(t)})),c}}var U={passive:!0};function K(t){return t.split("-")[0]}function Q(t){return t.split("-")[1]}function J(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function z(t){var e,i=t.reference,s=t.element,n=t.placement,o=n?K(n):null,r=n?Q(n):null,a=i.x+i.width/2-s.width/2,l=i.y+i.height/2-s.height/2;switch(o){case L:e={x:a,y:i.y-s.height};break;case E:e={x:a,y:i.y+i.height};break;case A:e={x:i.x+i.width,y:l};break;case M:e={x:i.x-s.width,y:l};break;default:e={x:i.x,y:i.y}}var d=o?J(o):null;if(null!=d){var p="y"===d?"height":"width";switch(r){case k:e[d]=e[d]-(i[p]/2-s[p]/2);break;case F:e[d]=e[d]+(i[p]/2-s[p]/2)}}return e}var _={top:"auto",right:"auto",bottom:"auto",left:"auto"};function X(t){var e,i=t.popper,n=t.popperRect,o=t.placement,r=t.variation,a=t.offsets,l=t.position,p=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,u=t.isFixed,f=a.x,v=void 0===f?0:f,w=a.y,y=void 0===w?0:w,b="function"==typeof h?h({x:v,y}):{x:v,y};v=b.x,y=b.y;var I=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),S=M,O=L,T=window;if(c){var D=C(i),P="clientHeight",k="clientWidth";if(D===s(i)&&"static"!==m(D=g(i)).position&&"absolute"===l&&(P="scrollHeight",k="scrollWidth"),o===L||(o===M||o===A)&&r===F)O=E,y-=(u&&D===T&&T.visualViewport?T.visualViewport.height:D[P])-n.height,y*=p?1:-1;if(o===M||(o===L||o===E)&&r===F)S=A,v-=(u&&D===T&&T.visualViewport?T.visualViewport.width:D[k])-n.width,v*=p?1:-1}var $,q=Object.assign({position:l},c&&_),W=!0===h?function(t,e){var i=t.x,s=t.y,n=e.devicePixelRatio||1;return{x:d(i*n)/n||0,y:d(s*n)/n||0}}({x:v,y},s(i)):{x:v,y};return v=W.x,y=W.y,p?Object.assign({},q,(($={})[O]=x?"0":"",$[S]=I?"0":"",$.transform=(T.devicePixelRatio||1)<=1?"translate("+v+"px, "+y+"px)":"translate3d("+v+"px, "+y+"px, 0)",$)):Object.assign({},q,((e={})[O]=x?y+"px":"",e[S]=I?v+"px":"",e.transform="",e))}const Y={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,s=t.name,n=i.offset,o=void 0===n?[0,0]:n,r=R.reduce((function(t,i){return t[i]=function(t,e,i){var s=K(t),n=[M,L].indexOf(s)>=0?-1:1,o="function"==typeof i?i(Object.assign({},e,{placement:t})):i,r=o[0],a=o[1];return r=r||0,a=(a||0)*n,[M,A].indexOf(s)>=0?{x:a,y:r}:{x:r,y:a}}(i,e.rects,o),t}),{}),a=r[e.placement],l=a.x,d=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[s]=r}};var G={left:"right",right:"left",bottom:"top",top:"bottom"};function Z(t){return t.replace(/left|right|bottom|top/g,(function(t){return G[t]}))}var tt={start:"end",end:"start"};function et(t){return t.replace(/start|end/g,(function(t){return tt[t]}))}function it(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&r(i)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function st(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function nt(t,e,i){return e===$?st(function(t,e){var i=s(t),n=g(t),o=i.visualViewport,r=n.clientWidth,a=n.clientHeight,l=0,d=0;if(o){r=o.width,a=o.height;var p=c();(p||!p&&"fixed"===e)&&(l=o.offsetLeft,d=o.offsetTop)}return{width:r,height:a,x:l+v(t),y:d}}(t,i)):n(e)?function(t,e){var i=h(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):st(function(t){var e,i=g(t),s=u(t),n=null==(e=t.ownerDocument)?void 0:e.body,o=a(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),r=a(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-s.scrollLeft+v(t),d=-s.scrollTop;return"rtl"===m(n||i).direction&&(l+=a(i.clientWidth,n?n.clientWidth:0)-o),{width:o,height:r,x:l,y:d}}(g(t)))}function ot(t,e,i,s){var r="clippingParents"===e?function(t){var e=S(I(t)),i=["absolute","fixed"].indexOf(m(t).position)>=0&&o(t)?C(t):t;return n(i)?e.filter((function(t){return n(t)&&it(t,i)&&"body"!==f(t)})):[]}(t):[].concat(e),d=[].concat(r,[i]),p=d[0],c=d.reduce((function(e,i){var n=nt(t,i,s);return e.top=a(n.top,e.top),e.right=l(n.right,e.right),e.bottom=l(n.bottom,e.bottom),e.left=a(n.left,e.left),e}),nt(t,p,s));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function rt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function at(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}function lt(t,e){void 0===e&&(e={});var i=e,s=i.placement,o=void 0===s?t.placement:s,r=i.strategy,a=void 0===r?t.strategy:r,l=i.boundary,d=void 0===l?"clippingParents":l,p=i.rootBoundary,c=void 0===p?$:p,u=i.elementContext,f=void 0===u?q:u,v=i.altBoundary,m=void 0!==v&&v,w=i.padding,y=void 0===w?0:w,b=rt("number"!=typeof y?y:at(y,P)),I=f===q?"reference":q,x=t.rects.popper,S=t.elements[m?I:f],O=ot(n(S)?S:S.contextElement||g(t.elements.popper),d,c,a),T=h(t.elements.reference),C=z({reference:T,element:x,strategy:"absolute",placement:o}),M=st(Object.assign({},x,C)),D=f===q?M:T,k={top:O.top-D.top+b.top,bottom:D.bottom-O.bottom+b.bottom,left:O.left-D.left+b.left,right:D.right-O.right+b.right},F=t.modifiersData.offset;if(f===q&&F){var W=F[o];Object.keys(k).forEach((function(t){var e=[A,E].indexOf(t)>=0?1:-1,i=[L,E].indexOf(t)>=0?"y":"x";k[t]+=W[i]*e}))}return k}function dt(t,e,i){return a(t,l(e,i))}const pt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,s=t.name,n=i.mainAxis,o=void 0===n||n,r=i.altAxis,d=void 0!==r&&r,p=i.boundary,c=i.rootBoundary,h=i.altBoundary,u=i.padding,f=i.tether,g=void 0===f||f,v=i.tetherOffset,m=void 0===v?0:v,w=lt(e,{boundary:p,rootBoundary:c,padding:u,altBoundary:h}),y=K(e.placement),I=Q(e.placement),x=!I,S=J(y),O="x"===S?"y":"x",T=e.modifiersData.popperOffsets,D=e.rects.reference,P=e.rects.popper,F="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,$="number"==typeof F?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,W={x:0,y:0};if(T){if(o){var R,j="y"===S?L:M,H="y"===S?E:A,N="y"===S?"height":"width",V=T[S],B=V+w[j],U=V-w[H],z=g?-P[N]/2:0,_=I===k?D[N]:P[N],X=I===k?-P[N]:-D[N],Y=e.elements.arrow,G=g&&Y?b(Y):{width:0,height:0},Z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tt=Z[j],et=Z[H],it=dt(0,D[N],G[N]),st=x?D[N]/2-z-it-tt-$.mainAxis:_-it-tt-$.mainAxis,nt=x?-D[N]/2+z+it+et+$.mainAxis:X+it+et+$.mainAxis,ot=e.elements.arrow&&C(e.elements.arrow),rt=ot?"y"===S?ot.clientTop||0:ot.clientLeft||0:0,at=null!=(R=null==q?void 0:q[S])?R:0,pt=V+nt-at,ct=dt(g?l(B,V+st-at-rt):B,V,g?a(U,pt):U);T[S]=ct,W[S]=ct-V}if(d){var ht,ut="x"===S?L:M,ft="x"===S?E:A,gt=T[O],vt="y"===O?"height":"width",mt=gt+w[ut],wt=gt-w[ft],yt=-1!==[L,M].indexOf(y),bt=null!=(ht=null==q?void 0:q[O])?ht:0,It=yt?mt:gt-D[vt]-P[vt]-bt+$.altAxis,xt=yt?gt+D[vt]+P[vt]-bt-$.altAxis:wt,St=g&&yt?function(t,e,i){var s=dt(t,e,i);return s>i?i:s}(It,gt,xt):dt(g?It:mt,gt,g?xt:wt);T[O]=St,W[O]=St-gt}e.modifiersData[s]=W}},requiresIfExists:["offset"]};const ct={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,s=t.name,n=t.options,o=i.elements.arrow,r=i.modifiersData.popperOffsets,a=K(i.placement),l=J(a),d=[M,A].indexOf(a)>=0?"height":"width";if(o&&r){var p=function(t,e){return rt("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:at(t,P))}(n.padding,i),c=b(o),h="y"===l?L:M,u="y"===l?E:A,f=i.rects.reference[d]+i.rects.reference[l]-r[l]-i.rects.popper[d],g=r[l]-i.rects.reference[l],v=C(o),m=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,w=f/2-g/2,y=p[h],I=m-c[d]-p[u],x=m/2-c[d]/2+w,S=dt(y,x,I),O=l;i.modifiersData[s]=((e={})[O]=S,e.centerOffset=S-x,e)}},effect:function(t){var e=t.state,i=t.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"!=typeof s||(s=e.elements.popper.querySelector(s)))&&it(e.elements.popper,s)&&(e.elements.arrow=s)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ht(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function ut(t){return[L,A,E,M].some((function(e){return t[e]>=0}))}var ft=B({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,o=n.scroll,r=void 0===o||o,a=n.resize,l=void 0===a||a,d=s(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&p.forEach((function(t){t.addEventListener("scroll",i.update,U)})),l&&d.addEventListener("resize",i.update,U),function(){r&&p.forEach((function(t){t.removeEventListener("scroll",i.update,U)})),l&&d.removeEventListener("resize",i.update,U)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=z({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,s=i.gpuAcceleration,n=void 0===s||s,o=i.adaptive,r=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,d={placement:K(e.placement),variation:Q(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,X(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,X(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},s=e.attributes[t]||{},n=e.elements[t];o(n)&&f(n)&&(Object.assign(n.style,i),Object.keys(s).forEach((function(t){var e=s[t];!1===e?n.removeAttribute(t):n.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var s=e.elements[t],n=e.attributes[t]||{},r=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]="",t}),{});o(s)&&f(s)&&(Object.assign(s.style,r),Object.keys(n).forEach((function(t){s.removeAttribute(t)})))}))}},requires:["computeStyles"]},Y,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var n=i.mainAxis,o=void 0===n||n,r=i.altAxis,a=void 0===r||r,l=i.fallbackPlacements,d=i.padding,p=i.boundary,c=i.rootBoundary,h=i.altBoundary,u=i.flipVariations,f=void 0===u||u,g=i.allowedAutoPlacements,v=e.options.placement,m=K(v),w=l||(m===v||!f?[Z(v)]:function(t){if(K(t)===D)return[];var e=Z(t);return[et(t),e,et(e)]}(v)),y=[v].concat(w).reduce((function(t,i){return t.concat(K(i)===D?function(t,e){void 0===e&&(e={});var i=e,s=i.placement,n=i.boundary,o=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,d=void 0===l?R:l,p=Q(s),c=p?a?W:W.filter((function(t){return Q(t)===p})):P,h=c.filter((function(t){return d.indexOf(t)>=0}));0===h.length&&(h=c);var u=h.reduce((function(e,i){return e[i]=lt(t,{placement:i,boundary:n,rootBoundary:o,padding:r})[K(i)],e}),{});return Object.keys(u).sort((function(t,e){return u[t]-u[e]}))}(e,{placement:i,boundary:p,rootBoundary:c,padding:d,flipVariations:f,allowedAutoPlacements:g}):i)}),[]),b=e.rects.reference,I=e.rects.popper,x=new Map,S=!0,O=y[0],T=0;T<y.length;T++){var C=y[T],F=K(C),$=Q(C)===k,q=[L,E].indexOf(F)>=0,j=q?"width":"height",H=lt(e,{placement:C,boundary:p,rootBoundary:c,altBoundary:h,padding:d}),N=q?$?A:M:$?E:L;b[j]>I[j]&&(N=Z(N));var V=Z(N),B=[];if(o&&B.push(H[F]<=0),a&&B.push(H[N]<=0,H[V]<=0),B.every((function(t){return t}))){O=C,S=!1;break}x.set(C,B)}if(S)for(var U=function(t){var e=y.find((function(e){var i=x.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return O=e,"break"},J=f?3:1;J>0;J--){if("break"===U(J))break}e.placement!==O&&(e.modifiersData[s]._skip=!0,e.placement=O,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},pt,ct,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,s=e.rects.reference,n=e.rects.popper,o=e.modifiersData.preventOverflow,r=lt(e,{elementContext:"reference"}),a=lt(e,{altBoundary:!0}),l=ht(r,s),d=ht(a,n,o),p=ut(l),c=ut(d);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":c})}}]})},179:(t,e,i)=>{i.d(e,{fp:()=>n,lP:()=>s});const s={auto:"auto","auto-start":"auto-start","auto-end":"auto-end",top:"top","top-start":"top-start","top-end":"top-end",bottom:"bottom","bottom-start":"bottom-start","bottom-end":"bottom-end",right:"right","right-start":"right-start","right-end":"right-end",left:"left","left-start":"left-start","left-end":"left-end"},n=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End","Escape","Enter","Space","Tab"]},709:(t,e,i)=>{i.d(e,{A:()=>s});class s{constructor(t,e,i){this.el=t,this.options=e,this.events=i,this.el=t,this.options=e,this.events={}}createCollection(t,e){var i;t.push({id:(null===(i=null==e?void 0:e.el)||void 0===i?void 0:i.id)||t.length+1,element:e})}fireEvent(t,e=null){if(this.events.hasOwnProperty(t))return this.events[t](e)}on(t,e){this.events[t]=e}}},392:(t,e,i)=>{i.d(e,{JD:()=>o,PR:()=>s,en:()=>l,fc:()=>a,sg:()=>n,yd:()=>r});const s=(t,e,i="auto",s=10,n=null)=>{const o=e.getBoundingClientRect(),r=n?n.getBoundingClientRect():null,a=window.innerHeight,l=r?o.top-r.top:o.top,d=(n?r.bottom:a)-o.bottom,p=t.clientHeight+s;return"bottom"===i?d>=p:"top"===i?l>=p:l>=p||d>=p},n=(t,e=200)=>{let i;return(...s)=>{clearTimeout(i),i=setTimeout((()=>{t.apply(void 0,s)}),e)}},o=(t,e,i=null)=>{const s=new CustomEvent(t,{detail:{payload:i},bubbles:!0,cancelable:!0,composed:!1});e.dispatchEvent(s)},r=(t,e)=>{const i=()=>{e(),t.removeEventListener("transitionend",i,!0)},s=window.getComputedStyle(t),n=s.getPropertyValue("transition-duration");"none"!==s.getPropertyValue("transition-property")&&parseFloat(n)>0?t.addEventListener("transitionend",i,!0):e()},a=t=>{const e=document.createElement("template");return t=t.trim(),e.innerHTML=t,e.content.firstChild},l=(t,e,i=" ",s="add")=>{t.split(i).forEach((t=>"add"===s?e.classList.add(t):e.classList.remove(t)))}}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,i),o.exports}i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var s={};i.d(s,{A:()=>p});var n=i(392),o=i(316),r=i(709),a=i(179),l=function(t,e,i,s){return new(i||(i=Promise))((function(n,o){function r(t){try{l(s.next(t))}catch(t){o(t)}}function a(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))};class d extends r.A{constructor(t,e){var i,s,n;super(t,e),this.optionId=0;const o=t.getAttribute("data-select"),r=o?JSON.parse(o):{},a=Object.assign(Object.assign({},r),e);this.value=(null==a?void 0:a.value)||this.el.value||null,this.placeholder=(null==a?void 0:a.placeholder)||"Select...",this.hasSearch=(null==a?void 0:a.hasSearch)||!1,this.preventSearchFocus=(null==a?void 0:a.preventSearchFocus)||!1,this.mode=(null==a?void 0:a.mode)||"default",this.viewport=void 0!==(null==a?void 0:a.viewport)?document.querySelector(null==a?void 0:a.viewport):null,this.isOpened=Boolean(null==a?void 0:a.isOpened)||!1,this.isMultiple=this.el.hasAttribute("multiple")||!1,this.isDisabled=this.el.hasAttribute("disabled")||!1,this.selectedItems=[],this.apiUrl=(null==a?void 0:a.apiUrl)||null,this.apiQuery=(null==a?void 0:a.apiQuery)||null,this.apiOptions=(null==a?void 0:a.apiOptions)||null,this.apiSearchQueryKey=(null==a?void 0:a.apiSearchQueryKey)||null,this.apiDataPart=(null==a?void 0:a.apiDataPart)||null,this.apiFieldsMap=(null==a?void 0:a.apiFieldsMap)||null,this.apiIconTag=(null==a?void 0:a.apiIconTag)||null,this.wrapperClasses=(null==a?void 0:a.wrapperClasses)||null,this.toggleTag=(null==a?void 0:a.toggleTag)||null,this.toggleClasses=(null==a?void 0:a.toggleClasses)||null,this.toggleCountText=void 0===typeof(null==a?void 0:a.toggleCountText)?null:a.toggleCountText,this.toggleCountTextPlacement=(null==a?void 0:a.toggleCountTextPlacement)||"postfix",this.toggleCountTextMinItems=(null==a?void 0:a.toggleCountTextMinItems)||1,this.toggleCountTextMode=(null==a?void 0:a.toggleCountTextMode)||"countAfterLimit",this.toggleSeparators={items:(null===(i=null==a?void 0:a.toggleSeparators)||void 0===i?void 0:i.items)||", ",betweenItemsAndCounter:(null===(s=null==a?void 0:a.toggleSeparators)||void 0===s?void 0:s.betweenItemsAndCounter)||"and"},this.tagsItemTemplate=(null==a?void 0:a.tagsItemTemplate)||null,this.tagsItemClasses=(null==a?void 0:a.tagsItemClasses)||null,this.tagsInputId=(null==a?void 0:a.tagsInputId)||null,this.tagsInputClasses=(null==a?void 0:a.tagsInputClasses)||null,this.dropdownTag=(null==a?void 0:a.dropdownTag)||null,this.dropdownClasses=(null==a?void 0:a.dropdownClasses)||null,this.dropdownDirectionClasses=(null==a?void 0:a.dropdownDirectionClasses)||null,this.dropdownSpace=(null==a?void 0:a.dropdownSpace)||10,this.dropdownPlacement=(null==a?void 0:a.dropdownPlacement)||null,this.dropdownVerticalFixedPlacement=(null==a?void 0:a.dropdownVerticalFixedPlacement)||null,this.dropdownScope=(null==a?void 0:a.dropdownScope)||"parent",this.searchTemplate=(null==a?void 0:a.searchTemplate)||null,this.searchWrapperTemplate=(null==a?void 0:a.searchWrapperTemplate)||null,this.searchWrapperClasses=(null==a?void 0:a.searchWrapperClasses)||"bg-white p-2 sticky top-0",this.searchId=(null==a?void 0:a.searchId)||null,this.searchLimit=(null==a?void 0:a.searchLimit)||1/0,this.isSearchDirectMatch=void 0===(null==a?void 0:a.isSearchDirectMatch)||(null==a?void 0:a.isSearchDirectMatch),this.searchClasses=(null==a?void 0:a.searchClasses)||"border-base-content/40 focus:border-primary focus:ring-primary bg-base-100 block w-full rounded-btn border px-3 py-2 text-base focus:ring-1",this.searchPlaceholder=(null==a?void 0:a.searchPlaceholder)||"Search...",this.searchNoResultTemplate=(null==a?void 0:a.searchNoResultTemplate)||"<span></span>",this.searchNoResultText=(null==a?void 0:a.searchNoResultText)||"No results found",this.searchNoResultClasses=(null==a?void 0:a.searchNoResultClasses)||"block advance-select-option",this.optionAllowEmptyOption=void 0!==(null==a?void 0:a.optionAllowEmptyOption)&&(null==a?void 0:a.optionAllowEmptyOption),this.optionTemplate=(null==a?void 0:a.optionTemplate)||null,this.optionTag=(null==a?void 0:a.optionTag)||null,this.optionClasses=(null==a?void 0:a.optionClasses)||null,this.extraMarkup=(null==a?void 0:a.extraMarkup)||null,this.descriptionClasses=(null==a?void 0:a.descriptionClasses)||null,this.iconClasses=(null==a?void 0:a.iconClasses)||null,this.isAddTagOnEnter=null===(n=null==a?void 0:a.isAddTagOnEnter)||void 0===n||n,this.animationInProcess=!1,this.selectOptions=[],this.remoteOptions=[],this.tagsInputHelper=null,this.init()}wrapperClick(t){t.target.closest("[data-select-dropdown]")||t.target.closest("[data-tag-value]")||this.tagsInput.focus()}toggleClick(){if(this.isDisabled)return!1;this.toggleFn()}tagsInputFocus(){this.isOpened||this.open()}tagsInputInput(){this.calculateInputWidth()}tagsInputInputSecond(t){this.searchOptions(t.target.value)}tagsInputKeydown(t){if("Enter"===t.key&&this.isAddTagOnEnter){const e=t.target.value;if(this.selectOptions.find((t=>t.val===e)))return!1;this.addSelectOption(e,e),this.buildOption(e,e),this.dropdown.querySelector(`[data-value="${e}"]`).click(),this.resetTagsInputField()}}searchInput(t){this.apiUrl?this.remoteSearch(t.target.value):this.searchOptions(t.target.value)}setValue(t){if(this.value=t,this.clearSelections(),Array.isArray(t))if("tags"===this.mode){this.unselectMultipleItems(),this.selectMultipleItems(),this.selectedItems=[];this.wrapper.querySelectorAll("[data-tag-value]").forEach((t=>t.remove())),this.setTagsItems(),this.reassignTagsInputPlaceholder(this.value.length?"":this.placeholder)}else this.toggleTextWrapper.innerHTML=this.value.length?this.stringFromValue():this.placeholder,this.unselectMultipleItems(),this.selectMultipleItems();else this.setToggleTitle(),this.toggle.querySelector("[data-icon]")&&this.setToggleIcon(),this.toggle.querySelector("[data-title]")&&this.setToggleTitle(),this.selectSingleItem();this.triggerChangeEventForNativeSelect()}init(){this.createCollection(window.$hsSelectCollection,this),this.build()}build(){if(this.el.style.display="none",this.el.children&&Array.from(this.el.children).filter((t=>this.optionAllowEmptyOption||!this.optionAllowEmptyOption&&t.value&&""!==t.value)).forEach((t=>{const e=t.getAttribute("data-select-option");this.selectOptions=[...this.selectOptions,{title:t.textContent,val:t.value,disabled:t.disabled,options:"undefined"!==e?JSON.parse(e):null}]})),this.isMultiple){const t=Array.from(this.el.children).filter((t=>t.selected));if(t){const e=[];t.forEach((t=>{e.push(t.value)})),this.value=e}}this.buildWrapper(),"tags"===this.mode?this.buildTags():this.buildToggle(),this.buildDropdown(),this.extraMarkup&&this.buildExtraMarkup()}buildWrapper(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("advance-select","relative"),"tags"===this.mode&&(this.onWrapperClickListener=t=>this.wrapperClick(t),this.wrapper.addEventListener("click",this.onWrapperClickListener)),this.wrapperClasses&&(0,n.en)(this.wrapperClasses,this.wrapper),this.el.before(this.wrapper),this.wrapper.append(this.el)}buildExtraMarkup(){const t=t=>{const e=(0,n.fc)(t);return this.wrapper.append(e),e},e=t=>{t.classList.contains("--prevent-click")||t.addEventListener("click",(t=>{t.stopPropagation(),this.toggleFn()}))};if(Array.isArray(this.extraMarkup))this.extraMarkup.forEach((i=>{const s=t(i);e(s)}));else{const i=t(this.extraMarkup);e(i)}}buildToggle(){var t,e;let i,s;this.toggleTextWrapper=document.createElement("span"),this.toggleTextWrapper.classList.add("truncate"),this.toggle=(0,n.fc)(this.toggleTag||"<div></div>"),i=this.toggle.querySelector("[data-icon]"),s=this.toggle.querySelector("[data-title]"),!this.isMultiple&&i&&this.setToggleIcon(),!this.isMultiple&&s&&this.setToggleTitle(),this.isMultiple?this.toggleTextWrapper.innerHTML=this.value.length?this.stringFromValue():this.placeholder:this.toggleTextWrapper.innerHTML=(null===(t=this.getItemByValue(this.value))||void 0===t?void 0:t.title)||this.placeholder,s||this.toggle.append(this.toggleTextWrapper),this.toggleClasses&&(0,n.en)(this.toggleClasses,this.toggle),this.isDisabled&&this.toggle.classList.add("disabled"),this.wrapper&&this.wrapper.append(this.toggle),(null===(e=this.toggle)||void 0===e?void 0:e.ariaExpanded)&&(this.isOpened?this.toggle.ariaExpanded="true":this.toggle.ariaExpanded="false"),this.onToggleClickListener=()=>this.toggleClick(),this.toggle.addEventListener("click",this.onToggleClickListener)}setToggleIcon(){var t;const e=this.getItemByValue(this.value),i=this.toggle.querySelector("[data-icon]");if(i){i.innerHTML="";const s=(0,n.fc)(this.apiUrl&&this.apiIconTag?this.apiIconTag||"":(null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.icon)||"");this.value&&this.apiUrl&&this.apiIconTag&&e[this.apiFieldsMap.icon]&&(s.src=e[this.apiFieldsMap.icon]||""),i.append(s),s?i.classList.remove("hidden"):i.classList.add("hidden")}}setToggleTitle(){var t;const e=this.toggle.querySelector("[data-title]");e&&(e.innerHTML=(null===(t=this.getItemByValue(this.value))||void 0===t?void 0:t.title)||this.placeholder,e.classList.add("truncate"),this.toggle.append(e))}buildTags(){this.isDisabled&&this.wrapper.classList.add("disabled"),this.buildTagsInput(),this.setTagsItems()}reassignTagsInputPlaceholder(t){this.tagsInput.placeholder=t,this.tagsInputHelper.innerHTML=t,this.calculateInputWidth()}buildTagsItem(t){var e,i,s,o;const r=this.getItemByValue(t);let a,l,d,p;const c=document.createElement("div");if(c.setAttribute("data-tag-value",t),this.tagsItemClasses&&(0,n.en)(this.tagsItemClasses,c),this.tagsItemTemplate&&(a=(0,n.fc)(this.tagsItemTemplate),c.append(a)),(null===(e=null==r?void 0:r.options)||void 0===e?void 0:e.icon)||this.apiIconTag){const t=(0,n.fc)(this.apiUrl&&this.apiIconTag?this.apiIconTag:null===(i=null==r?void 0:r.options)||void 0===i?void 0:i.icon);this.apiUrl&&this.apiIconTag&&r[this.apiFieldsMap.icon]&&(t.src=r[this.apiFieldsMap.icon]||""),p=a?a.querySelector("[data-icon]"):document.createElement("span"),p.append(t),a||c.append(p)}!a||!a.querySelector("[data-icon]")||(null===(s=null==r?void 0:r.options)||void 0===s?void 0:s.icon)||this.apiUrl||this.apiIconTag||r[null===(o=this.apiFieldsMap)||void 0===o?void 0:o.icon]||a.querySelector("[data-icon]").classList.add("hidden"),l=a?a.querySelector("[data-title]"):document.createElement("span"),l.textContent=r.title||"",a||c.append(l),a?d=a.querySelector("[data-remove]"):(d=document.createElement("span"),d.textContent="X",c.append(d)),d.addEventListener("click",(()=>{this.value=this.value.filter((e=>e!==t)),this.selectedItems=this.selectedItems.filter((e=>e!==t)),this.value.length||this.reassignTagsInputPlaceholder(this.placeholder),this.unselectMultipleItems(),this.selectMultipleItems(),c.remove(),this.triggerChangeEventForNativeSelect()})),this.wrapper.append(c)}getItemByValue(t){return this.apiUrl?this.remoteOptions.find((e=>`${e[this.apiFieldsMap.val]}`===t||e[this.apiFieldsMap.title]===t)):this.selectOptions.find((e=>e.val===t))}setTagsItems(){this.value&&this.value.forEach((t=>{this.selectedItems.includes(t)||this.buildTagsItem(t),this.selectedItems=this.selectedItems.includes(t)?this.selectedItems:[...this.selectedItems,t]}))}buildTagsInput(){this.tagsInput=document.createElement("input"),this.tagsInputId&&(this.tagsInput.id=this.tagsInputId),this.tagsInputClasses&&(0,n.en)(this.tagsInputClasses,this.tagsInput),this.onTagsInputFocusListener=()=>this.tagsInputFocus(),this.onTagsInputInputListener=()=>this.tagsInputInput(),this.onTagsInputInputSecondListener=(0,n.sg)((t=>this.tagsInputInputSecond(t))),this.onTagsInputKeydownListener=t=>this.tagsInputKeydown(t),this.tagsInput.addEventListener("focus",this.onTagsInputFocusListener),this.tagsInput.addEventListener("input",this.onTagsInputInputListener),this.tagsInput.addEventListener("input",this.onTagsInputInputSecondListener),this.tagsInput.addEventListener("keydown",this.onTagsInputKeydownListener),this.wrapper.append(this.tagsInput),setTimeout((()=>{this.adjustInputWidth(),this.reassignTagsInputPlaceholder(this.value.length?"":this.placeholder)}))}buildDropdown(){this.dropdown=(0,n.fc)(this.dropdownTag||"<div></div>"),this.dropdown.setAttribute("data-select-dropdown",""),"parent"===this.dropdownScope&&(this.dropdown.classList.add("absolute"),this.dropdownVerticalFixedPlacement||this.dropdown.classList.add("top-full")),this.dropdown.role="listbox",this.dropdown.tabIndex=-1,this.dropdown.ariaOrientation="vertical",this.isOpened||this.dropdown.classList.add("hidden"),this.dropdownClasses&&(0,n.en)(this.dropdownClasses,this.dropdown),this.wrapper&&this.wrapper.append(this.dropdown),this.dropdown&&this.hasSearch&&this.buildSearch(),this.selectOptions&&this.selectOptions.forEach(((t,e)=>this.buildOption(t.title,t.val,t.disabled,t.selected,t.options,`${e}`))),this.apiUrl&&this.optionsFromRemoteData(),"window"===this.dropdownScope&&this.buildPopper()}buildPopper(){if(void 0!==o.n4){document.body.appendChild(this.dropdown);const t="tags"===this.mode?this.wrapper:this.toggle;this.popperInstance=(0,o.n4)(t,this.dropdown,{placement:a.lP[this.dropdownPlacement]||"bottom",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})}}updateDropdownWidth(){const t="tags"===this.mode?this.wrapper:this.toggle;this.dropdown.style.width=`${t.clientWidth}px`}buildSearch(){let t;this.searchWrapper=(0,n.fc)(this.searchWrapperTemplate||"<div></div>"),this.searchWrapperClasses&&(0,n.en)(this.searchWrapperClasses,this.searchWrapper),t=this.searchWrapper.querySelector("[data-input]");const e=(0,n.fc)(this.searchTemplate||'<input type="text" />');this.search="INPUT"===e.tagName?e:e.querySelector(":scope input"),this.search.placeholder=this.searchPlaceholder,this.searchClasses&&(0,n.en)(this.searchClasses,this.search),this.searchId&&(this.search.id=this.searchId),this.onSearchInputListener=(0,n.sg)((t=>this.searchInput(t))),this.search.addEventListener("input",this.onSearchInputListener),t?t.append(e):this.searchWrapper.append(e),this.dropdown.append(this.searchWrapper)}buildOption(t,e,i=!1,s=!1,o,r="1",a){var l;let d=null,p=null,c=null,h=null;const u=(0,n.fc)(this.optionTag||"<div></div>");if(u.setAttribute("data-value",e),u.setAttribute("data-title-value",t),u.setAttribute("tabIndex",r),u.classList.add("cursor-pointer"),u.setAttribute("data-id",a||`${this.optionId}`),a||this.optionId++,i&&u.classList.add("disabled"),s&&(this.isMultiple?this.value=[...this.value,e]:this.value=e),this.optionTemplate&&(d=(0,n.fc)(this.optionTemplate),u.append(d)),d?(p=d.querySelector("[data-title]"),p.textContent=t||""):u.textContent=t||"",o){if(o.icon){const e=(0,n.fc)(null!==(l=this.apiIconTag)&&void 0!==l?l:o.icon);if(e.classList.add("max-w-full"),this.apiUrl&&(e.setAttribute("alt",t),e.setAttribute("src",o.icon)),d)c=d.querySelector("[data-icon]"),c.append(e);else{const t=(0,n.fc)("<div></div>");this.iconClasses&&(0,n.en)(this.iconClasses,t),t.append(e),u.append(t)}}if(o.description)if(d)h=d.querySelector("[data-description]"),h&&h.append(o.description);else{const t=(0,n.fc)("<div></div>");t.textContent=o.description,this.descriptionClasses&&(0,n.en)(this.descriptionClasses,t),u.append(t)}}d&&d.querySelector("[data-icon]")&&!o&&!(null==o?void 0:o.icon)&&d.querySelector("[data-icon]").classList.add("hidden"),this.value&&(this.isMultiple?this.value.includes(e):this.value===e)&&u.classList.add("selected"),i||u.addEventListener("click",(()=>this.onSelectOption(e))),this.optionClasses&&(0,n.en)(this.optionClasses,u),this.dropdown&&this.dropdown.append(u),s&&this.setNewValue()}buildOptionFromRemoteData(t,e,i=!1,s=!1,n="1",o,r){n?this.buildOption(t,e,i,s,r,n,o):alert("ID parameter is required for generating remote options! Please check your API endpoint have it.")}buildOptionsFromRemoteData(t){t.forEach(((t,e)=>{let i=null,s="",n="";const o={id:"",val:"",title:"",icon:null,description:null,rest:{}};Object.keys(t).forEach((e=>{var r;t[this.apiFieldsMap.id]&&(i=t[this.apiFieldsMap.id]),(t[this.apiFieldsMap.val]||t[this.apiFieldsMap.title])&&(n=t[this.apiFieldsMap.val]||t[this.apiFieldsMap.title]),t[this.apiFieldsMap.title]&&(s=t[this.apiFieldsMap.title]),t[this.apiFieldsMap.icon]&&(o.icon=t[this.apiFieldsMap.icon]),t[null===(r=this.apiFieldsMap)||void 0===r?void 0:r.description]&&(o.description=t[this.apiFieldsMap.description]),o.rest[e]=t[e]})),this.buildOriginalOption(s,`${n}`,i,!1,!1,o),this.buildOptionFromRemoteData(s,`${n}`,!1,!1,`${e}`,i,o)})),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}optionsFromRemoteData(){return l(this,arguments,void 0,(function*(t=""){const e=yield this.apiRequest(t);this.remoteOptions=e,e.length?this.buildOptionsFromRemoteData(this.remoteOptions):console.log("There is no data were responded!")}))}apiRequest(){return l(this,arguments,void 0,(function*(t=""){try{let e=this.apiUrl;const i=this.apiSearchQueryKey?`${this.apiSearchQueryKey}=${t.toLowerCase()}`:null,s=`${this.apiQuery}`,n=this.apiOptions||{};i&&(e+=`?${i}`),this.apiQuery&&(e+=`${i?"&":"?"}${s}`);const o=yield fetch(e,n),r=yield o.json();return this.apiDataPart?r[this.apiDataPart]:r}catch(t){console.error(t)}}))}sortElements(t,e){const i=Array.from(t.querySelectorAll(e));i.sort(((t,e)=>{const i=t.classList.contains("selected")||t.hasAttribute("selected"),s=e.classList.contains("selected")||e.hasAttribute("selected");return i&&!s?-1:!i&&s?1:0})),i.forEach((e=>t.appendChild(e)))}remoteSearch(t){return l(this,void 0,void 0,(function*(){const e=yield this.apiRequest(t);this.remoteOptions=e;let i=e.map((t=>`${t.id}`)),s=null;const n=this.dropdown.querySelectorAll("[data-value]");this.el.querySelectorAll("[data-select-option]").forEach((t=>{var e;const s=t.getAttribute("data-id");i.includes(s)||(null===(e=this.value)||void 0===e?void 0:e.includes(t.value))||this.destroyOriginalOption(t.value)})),n.forEach((t=>{var e;const s=t.getAttribute("data-id");i.includes(s)||(null===(e=this.value)||void 0===e?void 0:e.includes(t.getAttribute("data-value")))?i=i.filter((t=>t!==s)):this.destroyOption(t.getAttribute("data-value"))})),s=e.filter((t=>i.includes(`${t.id}`))),s.length?this.buildOptionsFromRemoteData(s):console.log("There is no data were responded!")}))}destroyOption(t){const e=this.dropdown.querySelector(`[data-value="${t}"]`);if(!e)return!1;e.remove()}buildOriginalOption(t,e,i,s,o,r){const a=(0,n.fc)("<option></option>");a.setAttribute("value",e),s&&a.setAttribute("disabled","disabled"),o&&a.setAttribute("selected","selected"),i&&a.setAttribute("data-id",i),a.setAttribute("data-select-option",JSON.stringify(r)),a.innerText=t,this.el.append(a)}destroyOriginalOption(t){const e=this.el.querySelector(`[value="${t}"]`);if(!e)return!1;e.remove()}buildTagsInputHelper(){this.tagsInputHelper=document.createElement("span"),this.tagsInputHelper.style.fontSize=window.getComputedStyle(this.tagsInput).fontSize,this.tagsInputHelper.style.fontFamily=window.getComputedStyle(this.tagsInput).fontFamily,this.tagsInputHelper.style.fontWeight=window.getComputedStyle(this.tagsInput).fontWeight,this.tagsInputHelper.style.letterSpacing=window.getComputedStyle(this.tagsInput).letterSpacing,this.tagsInputHelper.style.visibility="hidden",this.tagsInputHelper.style.whiteSpace="pre",this.tagsInputHelper.style.position="absolute",this.wrapper.appendChild(this.tagsInputHelper)}calculateInputWidth(){this.tagsInputHelper.textContent=this.tagsInput.value||this.tagsInput.placeholder;const t=parseInt(window.getComputedStyle(this.tagsInput).paddingLeft)+parseInt(window.getComputedStyle(this.tagsInput).paddingRight),e=parseInt(window.getComputedStyle(this.tagsInput).borderLeftWidth)+parseInt(window.getComputedStyle(this.tagsInput).borderRightWidth),i=this.tagsInputHelper.offsetWidth+t+e,s=this.wrapper.offsetWidth-(parseInt(window.getComputedStyle(this.wrapper).paddingLeft)+parseInt(window.getComputedStyle(this.wrapper).paddingRight));this.tagsInput.style.width=`${Math.min(i,s)+2}px`}adjustInputWidth(){this.buildTagsInputHelper(),this.calculateInputWidth()}onSelectOption(t){if(this.clearSelections(),this.isMultiple?(this.value=this.value.includes(t)?Array.from(this.value).filter((e=>e!==t)):[...Array.from(this.value),t],this.selectMultipleItems(),this.setNewValue()):(this.value=t,this.selectSingleItem(),this.setNewValue()),this.fireEvent("change",this.value),"tags"===this.mode){const t=this.selectedItems.filter((t=>!this.value.includes(t)));t.length&&t.forEach((t=>{this.selectedItems=this.selectedItems.filter((e=>e!==t)),this.wrapper.querySelector(`[data-tag-value="${t}"]`).remove()})),this.resetTagsInputField()}this.isMultiple||(this.toggle.querySelector("[data-icon]")&&this.setToggleIcon(),this.toggle.querySelector("[data-title]")&&this.setToggleTitle(),this.close(!0)),this.value.length||"tags"!==this.mode||this.reassignTagsInputPlaceholder(this.placeholder),this.isOpened&&"tags"===this.mode&&this.tagsInput&&this.tagsInput.focus(),this.triggerChangeEventForNativeSelect()}triggerChangeEventForNativeSelect(){const t=new Event("change",{bubbles:!0});this.el.dispatchEvent(t),(0,n.JD)("change.advance.select",this.el,this.value)}addSelectOption(t,e,i,s,n){this.selectOptions=[...this.selectOptions,{title:t,val:e,disabled:i,selected:s,options:n}]}removeSelectOption(t,e=!1){if(!!!this.selectOptions.some((e=>e.val===t)))return!1;this.selectOptions=this.selectOptions.filter((e=>e.val!==t)),this.value=e?this.value.filter((e=>e!==t)):t}resetTagsInputField(){this.tagsInput.value="",this.reassignTagsInputPlaceholder(""),this.searchOptions("")}clearSelections(){Array.from(this.dropdown.children).forEach((t=>{t.classList.contains("selected")&&t.classList.remove("selected")})),Array.from(this.el.children).forEach((t=>{t.selected&&(t.selected=!1)}))}setNewValue(){var t;"tags"===this.mode?this.setTagsItems():(null===(t=this.value)||void 0===t?void 0:t.length)?this.toggleTextWrapper.innerHTML=this.stringFromValue():this.toggleTextWrapper.innerHTML=this.placeholder}stringFromValueBasic(t){var e;const i=[];let s="";if(t.forEach((t=>{this.isMultiple?this.value.includes(t.val)&&i.push(t.title):this.value===t.val&&i.push(t.title)})),void 0!==this.toggleCountText&&null!==this.toggleCountText&&i.length>=this.toggleCountTextMinItems)if("nItemsAndCount"===this.toggleCountTextMode){const t=i.slice(0,this.toggleCountTextMinItems-1),n=[t.join(this.toggleSeparators.items)],o=""+(i.length-t.length);if((null===(e=null==this?void 0:this.toggleSeparators)||void 0===e?void 0:e.betweenItemsAndCounter)&&n.push(this.toggleSeparators.betweenItemsAndCounter),this.toggleCountText)switch(this.toggleCountTextPlacement){case"postfix-no-space":n.push(`${o}${this.toggleCountText}`);break;case"prefix-no-space":n.push(`${this.toggleCountText}${o}`);break;case"prefix":n.push(`${this.toggleCountText} ${o}`);break;default:n.push(`${o} ${this.toggleCountText}`)}s=n.join(" ")}else s=`${i.length} ${this.toggleCountText}`;else s=i.join(this.toggleSeparators.items);return s}stringFromValueRemoteData(){const t=this.dropdown.querySelectorAll("[data-title-value]"),e=[];let i="";if(t.forEach((t=>{const i=t.getAttribute("data-value"),s=t.getAttribute("data-title-value");this.isMultiple?this.value.includes(i)&&e.push(s):this.value===i&&e.push(s)})),this.toggleCountText&&""!==this.toggleCountText&&e.length>=this.toggleCountTextMinItems)if("nItemsAndCount"===this.toggleCountTextMode){const t=e.slice(0,this.toggleCountTextMinItems-1);i=`${t.join(this.toggleSeparators.items)} ${this.toggleSeparators.betweenItemsAndCounter} ${e.length-t.length} ${this.toggleCountText}`}else i=`${e.length} ${this.toggleCountText}`;else i=e.join(this.toggleSeparators.items);return i}stringFromValue(){return this.apiUrl?this.stringFromValueRemoteData():this.stringFromValueBasic(this.selectOptions)}selectSingleItem(){Array.from(this.el.children).find((t=>this.value===t.value)).selected=!0;const t=Array.from(this.dropdown.children).find((t=>this.value===t.getAttribute("data-value")));t&&t.classList.add("selected")}selectMultipleItems(){Array.from(this.dropdown.children).filter((t=>this.value.includes(t.getAttribute("data-value")))).forEach((t=>t.classList.add("selected"))),Array.from(this.el.children).filter((t=>this.value.includes(t.value))).forEach((t=>t.selected=!0))}unselectMultipleItems(){Array.from(this.dropdown.children).forEach((t=>t.classList.remove("selected"))),Array.from(this.el.children).forEach((t=>t.selected=!1))}searchOptions(t){this.searchNoResult&&(this.searchNoResult.remove(),this.searchNoResult=null),this.searchNoResult=(0,n.fc)(this.searchNoResultTemplate),this.searchNoResult.innerText=this.searchNoResultText,(0,n.en)(this.searchNoResultClasses,this.searchNoResult);const e=this.dropdown.querySelectorAll("[data-value]");let i,s=!1;this.searchLimit&&(i=0),e.forEach((e=>{const n=e.getAttribute("data-title-value").toLocaleLowerCase(),o=t?t.split("").map((t=>t.match(/\w/)?`${t}[\\W_]*`:"\\W*")).join(""):"",r=new RegExp(o,"i"),a=this.isSearchDirectMatch,l=n.trim();(t?a?!l.toLowerCase().includes(t.toLowerCase())||i>=this.searchLimit:!r.test(l)||i>=this.searchLimit:!r.test(l))?e.classList.add("hidden"):(e.classList.remove("hidden"),s=!0,this.searchLimit&&i++)})),s||this.dropdown.append(this.searchNoResult)}eraseToggleIcon(){const t=this.toggle.querySelector("[data-icon]");t&&(t.innerHTML=null,t.classList.add("hidden"))}eraseToggleTitle(){const t=this.toggle.querySelector("[data-title]");t?t.innerHTML=this.placeholder:this.toggleTextWrapper.innerHTML=this.placeholder}toggleFn(){this.isOpened?this.close():this.open()}destroy(){this.wrapper&&this.wrapper.removeEventListener("click",this.onWrapperClickListener),this.toggle&&this.toggle.removeEventListener("click",this.onToggleClickListener),this.tagsInput&&(this.tagsInput.removeEventListener("focus",this.onTagsInputFocusListener),this.tagsInput.removeEventListener("input",this.onTagsInputInputListener),this.tagsInput.removeEventListener("input",this.onTagsInputInputSecondListener),this.tagsInput.removeEventListener("keydown",this.onTagsInputKeydownListener)),this.search&&this.search.removeEventListener("input",this.onSearchInputListener);const t=this.el.parentElement.parentElement;this.el.classList.remove("hidden"),this.el.style.display="",t.prepend(this.el),t.querySelector(".advance-select").remove(),this.wrapper=null}open(){var t;const e=(null===(t=null===window||void 0===window?void 0:window.$hsSelectCollection)||void 0===t?void 0:t.find((t=>t.element.isOpened)))||null;if(e&&e.element.close(),this.animationInProcess)return!1;this.animationInProcess=!0,"window"===this.dropdownScope&&this.dropdown.classList.add("invisible"),this.dropdown.classList.remove("hidden"),this.recalculateDirection(),setTimeout((()=>{var t;(null===(t=null==this?void 0:this.toggle)||void 0===t?void 0:t.ariaExpanded)&&(this.toggle.ariaExpanded="true"),this.wrapper.classList.add("active"),this.dropdown.classList.add("opened"),this.dropdown.classList.contains("w-full")&&"window"===this.dropdownScope&&this.updateDropdownWidth(),this.popperInstance&&"window"===this.dropdownScope&&(this.popperInstance.update(),this.dropdown.classList.remove("invisible")),this.hasSearch&&!this.preventSearchFocus&&this.search.focus(),this.animationInProcess=!1})),this.isOpened=!0}close(t=!1){var e,i,s,o;if(this.animationInProcess)return!1;this.animationInProcess=!0,(null===(e=null==this?void 0:this.toggle)||void 0===e?void 0:e.ariaExpanded)&&(this.toggle.ariaExpanded="false"),this.wrapper.classList.remove("active"),this.dropdown.classList.remove("opened","bottom-full","top-full"),(null===(i=this.dropdownDirectionClasses)||void 0===i?void 0:i.bottom)&&this.dropdown.classList.remove(this.dropdownDirectionClasses.bottom),(null===(s=this.dropdownDirectionClasses)||void 0===s?void 0:s.top)&&this.dropdown.classList.remove(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop="",this.dropdown.style.marginBottom="",(0,n.yd)(this.dropdown,(()=>{this.dropdown.classList.add("hidden"),this.hasSearch&&(this.search.value="",this.search.dispatchEvent(new Event("input",{bubbles:!0})),this.search.blur()),t&&this.toggle.focus(),this.animationInProcess=!1})),null===(o=this.dropdown.querySelector(".select-option-highlighted"))||void 0===o||o.classList.remove("select-option-highlighted"),this.isOpened=!1}addOption(t){let e=`${this.selectOptions.length}`;const i=t=>{const{title:i,val:s,disabled:n,selected:o,options:r}=t;!!this.selectOptions.some((t=>t.val===s))||(this.addSelectOption(i,s,n,o,r),this.buildOption(i,s,n,o,r,e),this.buildOriginalOption(i,s,null,n,o,r),o&&!this.isMultiple&&this.onSelectOption(s))};Array.isArray(t)?t.forEach((t=>{i(t)})):i(t)}removeOption(t){const e=(t,e=!1)=>{!!this.selectOptions.some((e=>e.val===t))&&(this.removeSelectOption(t,e),this.destroyOption(t),this.destroyOriginalOption(t),this.value===t&&(this.value=null,this.eraseToggleTitle(),this.eraseToggleIcon()))};Array.isArray(t)?t.forEach((t=>{e(t,this.isMultiple)})):e(t,this.isMultiple),this.setNewValue()}recalculateDirection(){var t,e,i,s;if((null==this?void 0:this.dropdownVerticalFixedPlacement)&&(this.dropdown.classList.contains("bottom-full")||this.dropdown.classList.contains("top-full")))return!1;"top"===(null==this?void 0:this.dropdownVerticalFixedPlacement)?(this.dropdown.classList.add("bottom-full"),this.dropdown.style.marginBottom=`${this.dropdownSpace}px`):"bottom"===(null==this?void 0:this.dropdownVerticalFixedPlacement)?(this.dropdown.classList.add("top-full"),this.dropdown.style.marginTop=`${this.dropdownSpace}px`):(0,n.PR)(this.dropdown,this.toggle||this.tagsInput,"bottom",this.dropdownSpace,this.viewport)?(this.dropdown.classList.remove("bottom-full"),(null===(t=this.dropdownDirectionClasses)||void 0===t?void 0:t.bottom)&&this.dropdown.classList.remove(this.dropdownDirectionClasses.bottom),this.dropdown.style.marginBottom="",this.dropdown.classList.add("top-full"),(null===(e=this.dropdownDirectionClasses)||void 0===e?void 0:e.top)&&this.dropdown.classList.add(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop=`${this.dropdownSpace}px`):(this.dropdown.classList.remove("top-full"),(null===(i=this.dropdownDirectionClasses)||void 0===i?void 0:i.top)&&this.dropdown.classList.remove(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop="",this.dropdown.classList.add("bottom-full"),(null===(s=this.dropdownDirectionClasses)||void 0===s?void 0:s.bottom)&&this.dropdown.classList.add(this.dropdownDirectionClasses.bottom),this.dropdown.style.marginBottom=`${this.dropdownSpace}px`)}static getInstance(t,e){const i=window.$hsSelectCollection.find((e=>e.element.el===("string"==typeof t?document.querySelector(t):t)));return i?e?i:i.element:null}static autoInit(){window.$hsSelectCollection||(window.$hsSelectCollection=[],window.addEventListener("click",(t=>{const e=t.target;d.closeCurrentlyOpened(e)})),document.addEventListener("keydown",(t=>d.accessibility(t)))),window.$hsSelectCollection&&(window.$hsSelectCollection=window.$hsSelectCollection.filter((({element:t})=>document.contains(t.el)))),document.querySelectorAll("[data-select]:not(.--prevent-on-load-init)").forEach((t=>{if(!window.$hsSelectCollection.find((e=>{var i;return(null===(i=null==e?void 0:e.element)||void 0===i?void 0:i.el)===t}))){const e=t.getAttribute("data-select"),i=e?JSON.parse(e):{};new d(t,i)}}))}static open(t){const e=window.$hsSelectCollection.find((e=>e.element.el===("string"==typeof t?document.querySelector(t):t)));e&&!e.element.isOpened&&e.element.open()}static close(t){const e=window.$hsSelectCollection.find((e=>e.element.el===("string"==typeof t?document.querySelector(t):t)));e&&e.element.isOpened&&e.element.close()}static closeCurrentlyOpened(t=null){if(!t.closest(".advance-select.active")&&!t.closest("[data-select-dropdown].opened")){const t=window.$hsSelectCollection.filter((t=>t.element.isOpened))||null;t&&t.forEach((t=>{t.element.close()}))}}static accessibility(t){if(window.$hsSelectCollection.find((t=>t.element.isOpened))&&a.fp.includes(t.code)&&!t.metaKey)switch(t.code){case"Escape":t.preventDefault(),this.onEscape();break;case"ArrowUp":t.preventDefault(),t.stopImmediatePropagation(),this.onArrow();break;case"ArrowDown":t.preventDefault(),t.stopImmediatePropagation(),this.onArrow(!1);break;case"Tab":t.preventDefault(),t.stopImmediatePropagation(),this.onTab(t.shiftKey);break;case"Home":t.preventDefault(),t.stopImmediatePropagation(),this.onStartEnd();break;case"End":t.preventDefault(),t.stopImmediatePropagation(),this.onStartEnd(!1);break;case"Enter":case"Space":t.preventDefault(),this.onEnter(t)}}static onEscape(){const t=window.$hsSelectCollection.find((t=>t.element.isOpened));t&&t.element.close()}static onArrow(t=!0){const e=window.$hsSelectCollection.find((t=>t.element.isOpened));if(e){const i=e.element.dropdown;if(!i)return!1;const s=(t?Array.from(i.querySelectorAll(":scope > *:not(.hidden)")).reverse():Array.from(i.querySelectorAll(":scope > *:not(.hidden)"))).filter((t=>!t.classList.contains("disabled"))),n=i.querySelector(".select-option-highlighted")||i.querySelector(".selected");n||s[0].classList.add("select-option-highlighted");let o=s.findIndex((t=>t===n));o+1<s.length&&o++,s[o].focus(),n&&n.classList.remove("select-option-highlighted"),s[o].classList.add("select-option-highlighted")}}static onTab(t=!0){const e=window.$hsSelectCollection.find((t=>t.element.isOpened));if(e){const i=e.element.dropdown;if(!i)return!1;const s=(t?Array.from(i.querySelectorAll(":scope >  *:not(.hidden)")).reverse():Array.from(i.querySelectorAll(":scope >  *:not(.hidden)"))).filter((t=>!t.classList.contains("disabled"))),n=i.querySelector(".select-option-highlighted")||i.querySelector(".selected");n||s[0].classList.add("select-option-highlighted");let o=s.findIndex((t=>t===n));if(!(o+1<s.length))return n&&n.classList.remove("select-option-highlighted"),e.element.close(),e.element.toggle.focus(),!1;o++,s[o].focus(),n&&n.classList.remove("select-option-highlighted"),s[o].classList.add("select-option-highlighted")}}static onStartEnd(t=!0){const e=window.$hsSelectCollection.find((t=>t.element.isOpened));if(e){const i=e.element.dropdown;if(!i)return!1;const s=(t?Array.from(i.querySelectorAll(":scope >  *:not(.hidden)")):Array.from(i.querySelectorAll(":scope >  *:not(.hidden)")).reverse()).filter((t=>!t.classList.contains("disabled"))),n=i.querySelector(".select-option-highlighted");s.length&&(s[0].focus(),n&&n.classList.remove("select-option-highlighted"),s[0].classList.add("select-option-highlighted"))}}static onEnter(t){const e=t.target.previousSibling;if(window.$hsSelectCollection.find((t=>t.element.el===e))){const t=window.$hsSelectCollection.find((t=>t.element.isOpened)),i=window.$hsSelectCollection.find((t=>t.element.el===e));t.element.close(),i.element.open()}else{const e=window.$hsSelectCollection.find((t=>t.element.isOpened));e&&e.element.onSelectOption(t.target.dataset.value||"")}}}window.addEventListener("load",(()=>{d.autoInit()})),document.addEventListener("scroll",(()=>{if(!window.$hsSelectCollection)return!1;const t=window.$hsSelectCollection.find((t=>t.element.isOpened));t&&t.element.recalculateDirection()})),"undefined"!=typeof window&&(window.HSSelect=d);const p=d;var c=s.A;export{c as default};